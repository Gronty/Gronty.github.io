!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("@popperjs/core")):"function"==typeof define&&define.amd?define(["@popperjs/core"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).bootstrap=t(e.Popper)}(this,function(e){"use strict";const t=function(e){if(e&&e.__esModule)return e;const t=Object.create(null);if(e)for(const i in e)if("default"!==i){const n=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(t,i,n.get?n:{enumerable:!0,get:()=>e[i]})}return t.default=e,Object.freeze(t)}(e),i="transitionend",n=e=>{let t=e.getAttribute("data-bs-target");if(!t||"#"===t){let i=e.getAttribute("href");if(!i||!i.includes("#")&&!i.startsWith("."))return null;i.includes("#")&&!i.startsWith("#")&&(i=`#${i.split("#")[1]}`),t=i&&"#"!==i?i.trim():null}return t},s=e=>{const t=n(e);return t&&document.querySelector(t)?t:null},r=e=>{const t=n(e);return t?document.querySelector(t):null},a=e=>{e.dispatchEvent(new Event(i))},o=e=>!(!e||"object"!=typeof e)&&(void 0!==e.jquery&&(e=e[0]),void 0!==e.nodeType),c=e=>o(e)?e.jquery?e[0]:e:"string"==typeof e&&e.length>0?document.querySelector(e):null,l=(e,t,i)=>{Object.keys(i).forEach(n=>{const s=i[n],r=t[n],a=r&&o(r)?"element":null==(c=r)?`${c}`:{}.toString.call(c).match(/\s([a-z]+)/i)[1].toLowerCase();var c;if(!new RegExp(s).test(a))throw new TypeError(`${e.toUpperCase()}: Option "${n}" provided type "${a}" but expected type "${s}".`)})},h=e=>!(!o(e)||0===e.getClientRects().length)&&"visible"===getComputedStyle(e).getPropertyValue("visibility"),u=e=>!e||e.nodeType!==Node.ELEMENT_NODE||!!e.classList.contains("disabled")||(void 0!==e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled")),f=e=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?f(e.parentNode):null},d=()=>{},m=()=>{const{jQuery:e}=window;return e&&!document.body.hasAttribute("data-bs-no-jquery")?e:null},g=[],p=()=>"rtl"===document.documentElement.dir,_=e=>{var t;t=()=>{const t=m();if(t){const i=e.NAME,n=t.fn[i];t.fn[i]=e.jQueryInterface,t.fn[i].Constructor=e,t.fn[i].noConflict=()=>(t.fn[i]=n,e.jQueryInterface)}},"loading"===document.readyState?(g.length||document.addEventListener("DOMContentLoaded",()=>{g.forEach(e=>e())}),g.push(t)):t()},v=e=>{"function"==typeof e&&e()},y=(e,t,n=!0)=>{if(!n)return void v(e);const s=(e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:i}=window.getComputedStyle(e);const n=Number.parseFloat(t),s=Number.parseFloat(i);return n||s?(t=t.split(",")[0],i=i.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(i))):0})(t)+5;let r=!1;const o=({target:n})=>{n===t&&(r=!0,t.removeEventListener(i,o),v(e))};t.addEventListener(i,o),setTimeout(()=>{r||a(t)},s)},b=(e,t,i,n)=>{let s=e.indexOf(t);if(-1===s)return e[!i&&n?e.length-1:0];const r=e.length;return s+=i?1:-1,n&&(s=(s+r)%r),e[Math.max(0,Math.min(s,r-1))]},E=/[^.]*(?=\..*)\.|.*/,R=/\..*/,w=/::\d+$/,F={};let A=1;const S={mouseenter:"mouseover",mouseleave:"mouseout"},T=/^(mouseenter|mouseleave)/i,j=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function x(e,t){return t&&`${t}::${A++}`||e.uidEvent||A++}function C(e){const t=x(e);return e.uidEvent=t,F[t]=F[t]||{},F[t]}function P(e,t,i=null){const n=Object.keys(e);for(let s=0,r=n.length;s<r;s++){const r=e[n[s]];if(r.originalHandler===t&&r.delegationSelector===i)return r}return null}function O(e,t,i){const n="string"==typeof t,s=n?i:t;let r=D(e);return j.has(r)||(r=e),[n,s,r]}function N(e,t,i,n,s){if("string"!=typeof t||!e)return;if(i||(i=n,n=null),T.test(t)){const e=e=>function(t){if(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))return e.call(this,t)};n?n=e(n):i=e(i)}const[r,a,o]=O(t,i,n),c=C(e),l=c[o]||(c[o]={}),h=P(l,a,r?i:null);if(h)return void(h.oneOff=h.oneOff&&s);const u=x(a,t.replace(E,"")),f=r?function(e,t,i){return function n(s){const r=e.querySelectorAll(t);for(let{target:a}=s;a&&a!==this;a=a.parentNode)for(let o=r.length;o--;)if(r[o]===a)return s.delegateTarget=a,n.oneOff&&L.off(e,s.type,t,i),i.apply(a,[s]);return null}}(e,i,n):function(e,t){return function i(n){return n.delegateTarget=e,i.oneOff&&L.off(e,n.type,t),t.apply(e,[n])}}(e,i);f.delegationSelector=r?i:null,f.originalHandler=a,f.oneOff=s,f.uidEvent=u,l[u]=f,e.addEventListener(o,f,r)}function k(e,t,i,n,s){const r=P(t[i],n,s);r&&(e.removeEventListener(i,r,Boolean(s)),delete t[i][r.uidEvent])}function D(e){return e=e.replace(R,""),S[e]||e}const L={on(e,t,i,n){N(e,t,i,n,!1)},one(e,t,i,n){N(e,t,i,n,!0)},off(e,t,i,n){if("string"!=typeof t||!e)return;const[s,r,a]=O(t,i,n),o=a!==t,c=C(e),l=t.startsWith(".");if(void 0!==r){if(!c||!c[a])return;return void k(e,c,a,r,s?i:null)}l&&Object.keys(c).forEach(i=>{!function(e,t,i,n){const s=t[i]||{};Object.keys(s).forEach(r=>{if(r.includes(n)){const n=s[r];k(e,t,i,n.originalHandler,n.delegationSelector)}})}(e,c,i,t.slice(1))});const h=c[a]||{};Object.keys(h).forEach(i=>{const n=i.replace(w,"");if(!o||t.includes(n)){const t=h[i];k(e,c,a,t.originalHandler,t.delegationSelector)}})},trigger(e,t,i){if("string"!=typeof t||!e)return null;const n=m(),s=D(t),r=t!==s,a=j.has(s);let o,c=!0,l=!0,h=!1,u=null;return r&&n&&(o=n.Event(t,i),n(e).trigger(o),c=!o.isPropagationStopped(),l=!o.isImmediatePropagationStopped(),h=o.isDefaultPrevented()),a?(u=document.createEvent("HTMLEvents"),u.initEvent(s,c,!0)):u=new CustomEvent(t,{bubbles:c,cancelable:!0}),void 0!==i&&Object.keys(i).forEach(e=>{Object.defineProperty(u,e,{get:()=>i[e]})}),h&&u.preventDefault(),l&&e.dispatchEvent(u),u.defaultPrevented&&void 0!==o&&o.preventDefault(),u}},I=new Map,H={set(e,t,i){I.has(e)||I.set(e,new Map);const n=I.get(e);n.has(t)||0===n.size?n.set(t,i):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(n.keys())[0]}.`)},get:(e,t)=>I.has(e)&&I.get(e).get(t)||null,remove(e,t){if(!I.has(e))return;const i=I.get(e);i.delete(t),0===i.size&&I.delete(e)}};class Q{constructor(e){(e=c(e))&&(this._element=e,H.set(this._element,this.constructor.DATA_KEY,this))}dispose(){H.remove(this._element,this.constructor.DATA_KEY),L.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach(e=>{this[e]=null})}_queueCallback(e,t,i=!0){y(e,t,i)}static getInstance(e){return H.get(c(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}static get VERSION(){return"5.1.3"}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}}const B=(e,t="hide")=>{const i=e.NAME;L.on(document,`click.dismiss${e.EVENT_KEY}`,`[data-bs-dismiss="${i}"]`,function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),u(this))return;const s=r(this)||this.closest(`.${i}`);e.getOrCreateInstance(s)[t]()})};class M extends Q{static get NAME(){return"alert"}close(){if(L.trigger(this._element,"close.bs.alert").defaultPrevented)return;this._element.classList.remove("show");const e=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,e)}_destroyElement(){this._element.remove(),L.trigger(this._element,"closed.bs.alert"),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=M.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}})}}B(M,"close"),_(M);const q='[data-bs-toggle="button"]';class U extends Q{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(e){return this.each(function(){const t=U.getOrCreateInstance(this);"toggle"===e&&t[e]()})}}function z(e){return"true"===e||"false"!==e&&(e===Number(e).toString()?Number(e):""===e||"null"===e?null:e)}function $(e){return e.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}L.on(document,"click.bs.button.data-api",q,e=>{e.preventDefault();const t=e.target.closest(q);U.getOrCreateInstance(t).toggle()}),_(U);const K={setDataAttribute(e,t,i){e.setAttribute(`data-bs-${$(t)}`,i)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${$(t)}`)},getDataAttributes(e){if(!e)return{};const t={};return Object.keys(e.dataset).filter(e=>e.startsWith("bs")).forEach(i=>{let n=i.replace(/^bs/,"");n=n.charAt(0).toLowerCase()+n.slice(1,n.length),t[n]=z(e.dataset[i])}),t},getDataAttribute:(e,t)=>z(e.getAttribute(`data-bs-${$(t)}`)),offset(e){const t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset}},position:e=>({top:e.offsetTop,left:e.offsetLeft})},V={find:(e,t=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(t,e)),findOne:(e,t=document.documentElement)=>Element.prototype.querySelector.call(t,e),children:(e,t)=>[].concat(...e.children).filter(e=>e.matches(t)),parents(e,t){const i=[];let n=e.parentNode;for(;n&&n.nodeType===Node.ELEMENT_NODE&&3!==n.nodeType;)n.matches(t)&&i.push(n),n=n.parentNode;return i},prev(e,t){let i=e.previousElementSibling;for(;i;){if(i.matches(t))return[i];i=i.previousElementSibling}return[]},next(e,t){let i=e.nextElementSibling;for(;i;){if(i.matches(t))return[i];i=i.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>`${e}:not([tabindex^="-"])`).join(", ");return this.find(t,e).filter(e=>!u(e)&&h(e))}},W="carousel",X={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},Y={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},G="next",J="prev",Z="left",ee="right",te={ArrowLeft:ee,ArrowRight:Z},ie="slid.bs.carousel",ne="active",se=".active.carousel-item";class re extends Q{constructor(e,t){super(e),this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(t),this._indicatorsElement=V.findOne(".carousel-indicators",this._element),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent),this._addEventListeners()}static get Default(){return X}static get NAME(){return W}next(){this._slide(G)}nextWhenVisible(){!document.hidden&&h(this._element)&&this.next()}prev(){this._slide(J)}pause(e){e||(this._isPaused=!0),V.findOne(".carousel-item-next, .carousel-item-prev",this._element)&&(a(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}cycle(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}to(e){this._activeElement=V.findOne(se,this._element);const t=this._getItemIndex(this._activeElement);if(!(e>this._items.length-1||e<0)){if(!this._isSliding)return t===e?(this.pause(),void this.cycle()):void this._slide(e>t?G:J,this._items[e]);L.one(this._element,ie,()=>this.to(e))}}_getConfig(e){return e={...X,...K.getDataAttributes(this._element),..."object"==typeof e?e:{}},l(W,e,Y),e}_handleSwipe(){const e=Math.abs(this.touchDeltaX);if(e<=40)return;const t=e/this.touchDeltaX;this.touchDeltaX=0,t&&this._slide(t>0?ee:Z)}_addEventListeners(){this._config.keyboard&&L.on(this._element,"keydown.bs.carousel",e=>this._keydown(e)),"hover"===this._config.pause&&(L.on(this._element,"mouseenter.bs.carousel",e=>this.pause(e)),L.on(this._element,"mouseleave.bs.carousel",e=>this.cycle(e))),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()}_addTouchEventListeners(){const e=e=>this._pointerEvent&&("pen"===e.pointerType||"touch"===e.pointerType),t=t=>{e(t)?this.touchStartX=t.clientX:this._pointerEvent||(this.touchStartX=t.touches[0].clientX)},i=e=>{this.touchDeltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this.touchStartX},n=t=>{e(t)&&(this.touchDeltaX=t.clientX-this.touchStartX),this._handleSwipe(),"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(e=>this.cycle(e),500+this._config.interval))};V.find(".carousel-item img",this._element).forEach(e=>{L.on(e,"dragstart.bs.carousel",e=>e.preventDefault())}),this._pointerEvent?(L.on(this._element,"pointerdown.bs.carousel",e=>t(e)),L.on(this._element,"pointerup.bs.carousel",e=>n(e)),this._element.classList.add("pointer-event")):(L.on(this._element,"touchstart.bs.carousel",e=>t(e)),L.on(this._element,"touchmove.bs.carousel",e=>i(e)),L.on(this._element,"touchend.bs.carousel",e=>n(e)))}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=te[e.key];t&&(e.preventDefault(),this._slide(t))}_getItemIndex(e){return this._items=e&&e.parentNode?V.find(".carousel-item",e.parentNode):[],this._items.indexOf(e)}_getItemByOrder(e,t){return b(this._items,t,e===G,this._config.wrap)}_triggerSlideEvent(e,t){const i=this._getItemIndex(e),n=this._getItemIndex(V.findOne(se,this._element));return L.trigger(this._element,"slide.bs.carousel",{relatedTarget:e,direction:t,from:n,to:i})}_setActiveIndicatorElement(e){if(this._indicatorsElement){const t=V.findOne(".active",this._indicatorsElement);t.classList.remove(ne),t.removeAttribute("aria-current");const i=V.find("[data-bs-target]",this._indicatorsElement);for(let n=0;n<i.length;n++)if(Number.parseInt(i[n].getAttribute("data-bs-slide-to"),10)===this._getItemIndex(e)){i[n].classList.add(ne),i[n].setAttribute("aria-current","true");break}}}_updateInterval(){const e=this._activeElement||V.findOne(se,this._element);if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);t?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=t):this._config.interval=this._config.defaultInterval||this._config.interval}_slide(e,t){const i=this._directionToOrder(e),n=V.findOne(se,this._element),s=this._getItemIndex(n),r=t||this._getItemByOrder(i,n),a=this._getItemIndex(r),o=Boolean(this._interval),c=i===G,l=c?"carousel-item-start":"carousel-item-end",h=c?"carousel-item-next":"carousel-item-prev",u=this._orderToDirection(i);if(r&&r.classList.contains(ne))return void(this._isSliding=!1);if(this._isSliding)return;if(this._triggerSlideEvent(r,u).defaultPrevented)return;if(!n||!r)return;this._isSliding=!0,o&&this.pause(),this._setActiveIndicatorElement(r),this._activeElement=r;const f=()=>{L.trigger(this._element,ie,{relatedTarget:r,direction:u,from:s,to:a})};this._element.classList.contains("slide")?(r.classList.add(h),n.classList.add(l),r.classList.add(l),this._queueCallback(()=>{r.classList.remove(l,h),r.classList.add(ne),n.classList.remove(ne,h,l),this._isSliding=!1,setTimeout(f,0)},n,!0)):(n.classList.remove(ne),r.classList.add(ne),this._isSliding=!1,f()),o&&this.cycle()}_directionToOrder(e){return[ee,Z].includes(e)?p()?e===Z?J:G:e===Z?G:J:e}_orderToDirection(e){return[G,J].includes(e)?p()?e===J?Z:ee:e===J?ee:Z:e}static carouselInterface(e,t){const i=re.getOrCreateInstance(e,t);let{_config:n}=i;"object"==typeof t&&(n={...n,...t});const s="string"==typeof t?t:n.slide;if("number"==typeof t)i.to(t);else if("string"==typeof s){if(void 0===i[s])throw new TypeError(`No method named "${s}"`);i[s]()}else n.interval&&n.ride&&(i.pause(),i.cycle())}static jQueryInterface(e){return this.each(function(){re.carouselInterface(this,e)})}static dataApiClickHandler(e){const t=r(this);if(!t||!t.classList.contains("carousel"))return;const i={...K.getDataAttributes(t),...K.getDataAttributes(this)},n=this.getAttribute("data-bs-slide-to");n&&(i.interval=!1),re.carouselInterface(t,i),n&&re.getInstance(t).to(n),e.preventDefault()}}L.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",re.dataApiClickHandler),L.on(window,"load.bs.carousel.data-api",()=>{const e=V.find('[data-bs-ride="carousel"]');for(let t=0,i=e.length;t<i;t++)re.carouselInterface(e[t],re.getInstance(e[t]))}),_(re);const ae="collapse",oe={toggle:!0,parent:null},ce={toggle:"boolean",parent:"(null|element)"},le="show",he="collapse",ue="collapsing",fe="collapsed",de=":scope .collapse .collapse",me='[data-bs-toggle="collapse"]';class ge extends Q{constructor(e,t){super(e),this._isTransitioning=!1,this._config=this._getConfig(t),this._triggerArray=[];const i=V.find(me);for(let n=0,r=i.length;n<r;n++){const e=i[n],t=s(e),r=V.find(t).filter(e=>e===this._element);null!==t&&r.length&&(this._selector=t,this._triggerArray.push(e))}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return oe}static get NAME(){return ae}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e,t=[];if(this._config.parent){const e=V.find(de,this._config.parent);t=V.find(".collapse.show, .collapse.collapsing",this._config.parent).filter(t=>!e.includes(t))}const i=V.findOne(this._selector);if(t.length){const n=t.find(e=>i!==e);if(e=n?ge.getInstance(n):null,e&&e._isTransitioning)return}if(L.trigger(this._element,"show.bs.collapse").defaultPrevented)return;t.forEach(t=>{i!==t&&ge.getOrCreateInstance(t,{toggle:!1}).hide(),e||H.set(t,"bs.collapse",null)});const n=this._getDimension();this._element.classList.remove(he),this._element.classList.add(ue),this._element.style[n]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const s=`scroll${n[0].toUpperCase()+n.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(ue),this._element.classList.add(he,le),this._element.style[n]="",L.trigger(this._element,"shown.bs.collapse")},this._element,!0),this._element.style[n]=`${this._element[s]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if(L.trigger(this._element,"hide.bs.collapse").defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,this._element.classList.add(ue),this._element.classList.remove(he,le);const t=this._triggerArray.length;for(let i=0;i<t;i++){const e=this._triggerArray[i],t=r(e);t&&!this._isShown(t)&&this._addAriaAndCollapsedClass([e],!1)}this._isTransitioning=!0,this._element.style[e]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(ue),this._element.classList.add(he),L.trigger(this._element,"hidden.bs.collapse")},this._element,!0)}_isShown(e=this._element){return e.classList.contains(le)}_getConfig(e){return(e={...oe,...K.getDataAttributes(this._element),...e}).toggle=Boolean(e.toggle),e.parent=c(e.parent),l(ae,e,ce),e}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const e=V.find(de,this._config.parent);V.find(me,this._config.parent).filter(t=>!e.includes(t)).forEach(e=>{const t=r(e);t&&this._addAriaAndCollapsedClass([e],this._isShown(t))})}_addAriaAndCollapsedClass(e,t){e.length&&e.forEach(e=>{t?e.classList.remove(fe):e.classList.add(fe),e.setAttribute("aria-expanded",t)})}static jQueryInterface(e){return this.each(function(){const t={};"string"==typeof e&&/show|hide/.test(e)&&(t.toggle=!1);const i=ge.getOrCreateInstance(this,t);if("string"==typeof e){if(void 0===i[e])throw new TypeError(`No method named "${e}"`);i[e]()}})}}L.on(document,"click.bs.collapse.data-api",me,function(e){("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault();const t=s(this);V.find(t).forEach(e=>{ge.getOrCreateInstance(e,{toggle:!1}).toggle()})}),_(ge);const pe="dropdown",_e="Escape",ve="Space",ye="ArrowUp",be="ArrowDown",Ee=new RegExp("ArrowUp|ArrowDown|Escape"),Re="click.bs.dropdown.data-api",we="keydown.bs.dropdown.data-api",Fe="show",Ae='[data-bs-toggle="dropdown"]',Se=".dropdown-menu",Te=p()?"top-end":"top-start",je=p()?"top-start":"top-end",xe=p()?"bottom-end":"bottom-start",Ce=p()?"bottom-start":"bottom-end",Pe=p()?"left-start":"right-start",Oe=p()?"right-start":"left-start",Ne={offset:[0,2],boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null,autoClose:!0},ke={offset:"(array|string|function)",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)",autoClose:"(boolean|string)"};class De extends Q{constructor(e,t){super(e),this._popper=null,this._config=this._getConfig(t),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar()}static get Default(){return Ne}static get DefaultType(){return ke}static get NAME(){return pe}toggle(){return this._isShown()?this.hide():this.show()}show(){if(u(this._element)||this._isShown(this._menu))return;const e={relatedTarget:this._element};if(L.trigger(this._element,"show.bs.dropdown",e).defaultPrevented)return;const t=De.getParentFromElement(this._element);this._inNavbar?K.setDataAttribute(this._menu,"popper","none"):this._createPopper(t),"ontouchstart"in document.documentElement&&!t.closest(".navbar-nav")&&[].concat(...document.body.children).forEach(e=>L.on(e,"mouseover",d)),this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Fe),this._element.classList.add(Fe),L.trigger(this._element,"shown.bs.dropdown",e)}hide(){!u(this._element)&&this._isShown(this._menu)&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){L.trigger(this._element,"hide.bs.dropdown",e).defaultPrevented||("ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(e=>L.off(e,"mouseover",d)),this._popper&&this._popper.destroy(),this._menu.classList.remove(Fe),this._element.classList.remove(Fe),this._element.setAttribute("aria-expanded","false"),K.removeDataAttribute(this._menu,"popper"),L.trigger(this._element,"hidden.bs.dropdown",e))}_getConfig(e){if(e={...this.constructor.Default,...K.getDataAttributes(this._element),...e},l(pe,e,this.constructor.DefaultType),"object"==typeof e.reference&&!o(e.reference)&&"function"!=typeof e.reference.getBoundingClientRect)throw new TypeError(`${pe.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(e){if(void 0===t)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let i=this._element;"parent"===this._config.reference?i=e:o(this._config.reference)?i=c(this._config.reference):"object"==typeof this._config.reference&&(i=this._config.reference);const n=this._getPopperConfig(),s=n.modifiers.find(e=>"applyStyles"===e.name&&!1===e.enabled);this._popper=t.createPopper(i,this._menu,n),s&&K.setDataAttribute(this._menu,"popper","static")}_isShown(e=this._element){return e.classList.contains(Fe)}_getMenuElement(){return V.next(this._element,Se)[0]}_getPlacement(){const e=this._element.parentNode;if(e.classList.contains("dropend"))return Pe;if(e.classList.contains("dropstart"))return Oe;const t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?je:Te:t?Ce:xe}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof e?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return"static"===this._config.display&&(e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,..."function"==typeof this._config.popperConfig?this._config.popperConfig(e):this._config.popperConfig}}_selectMenuItem({key:e,target:t}){const i=V.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(h);i.length&&b(i,t,e===be,!i.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=De.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(e&&(2===e.button||"keyup"===e.type&&"Tab"!==e.key))return;const t=V.find(Ae);for(let i=0,n=t.length;i<n;i++){const n=De.getInstance(t[i]);if(!n||!1===n._config.autoClose)continue;if(!n._isShown())continue;const s={relatedTarget:n._element};if(e){const t=e.composedPath(),i=t.includes(n._menu);if(t.includes(n._element)||"inside"===n._config.autoClose&&!i||"outside"===n._config.autoClose&&i)continue;if(n._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;"click"===e.type&&(s.clickEvent=e)}n._completeHide(s)}}static getParentFromElement(e){return r(e)||e.parentNode}static dataApiKeydownHandler(e){if(/input|textarea/i.test(e.target.tagName)?e.key===ve||e.key!==_e&&(e.key!==be&&e.key!==ye||e.target.closest(Se)):!Ee.test(e.key))return;const t=this.classList.contains(Fe);if(!t&&e.key===_e)return;if(e.preventDefault(),e.stopPropagation(),u(this))return;const i=this.matches(Ae)?this:V.prev(this,Ae)[0],n=De.getOrCreateInstance(i);if(e.key!==_e)return e.key===ye||e.key===be?(t||n.show(),void n._selectMenuItem(e)):void(t&&e.key!==ve||De.clearMenus());n.hide()}}L.on(document,we,Ae,De.dataApiKeydownHandler),L.on(document,we,Se,De.dataApiKeydownHandler),L.on(document,Re,De.clearMenus),L.on(document,"keyup.bs.dropdown.data-api",De.clearMenus),L.on(document,Re,Ae,function(e){e.preventDefault(),De.getOrCreateInstance(this).toggle()}),_(De);const Le=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Ie=".sticky-top";class He{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",t=>t+e),this._setElementAttributes(Le,"paddingRight",t=>t+e),this._setElementAttributes(Ie,"marginRight",t=>t-e)}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,i){const n=this.getWidth();this._applyManipulationCallback(e,e=>{if(e!==this._element&&window.innerWidth>e.clientWidth+n)return;this._saveInitialAttribute(e,t);const s=window.getComputedStyle(e)[t];e.style[t]=`${i(Number.parseFloat(s))}px`})}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(Le,"paddingRight"),this._resetElementAttributes(Ie,"marginRight")}_saveInitialAttribute(e,t){const i=e.style[t];i&&K.setDataAttribute(e,t,i)}_resetElementAttributes(e,t){this._applyManipulationCallback(e,e=>{const i=K.getDataAttribute(e,t);void 0===i?e.style.removeProperty(t):(K.removeDataAttribute(e,t),e.style[t]=i)})}_applyManipulationCallback(e,t){o(e)?t(e):V.find(e,this._element).forEach(t)}isOverflowing(){return this.getWidth()>0}}const Qe={className:"modal-backdrop",isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},Be={className:"string",isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"},Me="show",qe="mousedown.bs.backdrop";class Ue{constructor(e){this._config=this._getConfig(e),this._isAppended=!1,this._element=null}show(e){this._config.isVisible?(this._append(),this._config.isAnimated&&this._getElement(),this._getElement().classList.add(Me),this._emulateAnimation(()=>{v(e)})):v(e)}hide(e){this._config.isVisible?(this._getElement().classList.remove(Me),this._emulateAnimation(()=>{this.dispose(),v(e)})):v(e)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}_getConfig(e){return(e={...Qe,..."object"==typeof e?e:{}}).rootElement=c(e.rootElement),l("backdrop",e,Be),e}_append(){this._isAppended||(this._config.rootElement.append(this._getElement()),L.on(this._getElement(),qe,()=>{v(this._config.clickCallback)}),this._isAppended=!0)}dispose(){this._isAppended&&(L.off(this._element,qe),this._element.remove(),this._isAppended=!1)}_emulateAnimation(e){y(e,this._getElement(),this._config.isAnimated)}}const ze={trapElement:null,autofocus:!0},$e={trapElement:"element",autofocus:"boolean"},Ke=".bs.focustrap",Ve="backward";class We{constructor(e){this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}activate(){const{trapElement:e,autofocus:t}=this._config;this._isActive||(t&&e.focus(),L.off(document,Ke),L.on(document,"focusin.bs.focustrap",e=>this._handleFocusin(e)),L.on(document,"keydown.tab.bs.focustrap",e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,L.off(document,Ke))}_handleFocusin(e){const{target:t}=e,{trapElement:i}=this._config;if(t===document||t===i||i.contains(t))return;const n=V.focusableChildren(i);0===n.length?i.focus():this._lastTabNavDirection===Ve?n[n.length-1].focus():n[0].focus()}_handleKeydown(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?Ve:"forward")}_getConfig(e){return e={...ze,..."object"==typeof e?e:{}},l("focustrap",e,$e),e}}const Xe="modal",Ye="Escape",Ge={backdrop:!0,keyboard:!0,focus:!0},Je={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},Ze="hidden.bs.modal",et="show.bs.modal",tt="resize.bs.modal",it="click.dismiss.bs.modal",nt="keydown.dismiss.bs.modal",st="mousedown.dismiss.bs.modal",rt="modal-open",at="show",ot="modal-static";class ct extends Q{constructor(e,t){super(e),this._config=this._getConfig(t),this._dialog=V.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollBar=new He}static get Default(){return Ge}static get NAME(){return Xe}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||L.trigger(this._element,et,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add(rt),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),L.on(this._dialog,st,()=>{L.one(this._element,"mouseup.dismiss.bs.modal",e=>{e.target===this._element&&(this._ignoreBackdropClick=!0)})}),this._showBackdrop(()=>this._showElement(e)))}hide(){if(!this._isShown||this._isTransitioning)return;if(L.trigger(this._element,"hide.bs.modal").defaultPrevented)return;this._isShown=!1;const e=this._isAnimated();e&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),this._focustrap.deactivate(),this._element.classList.remove(at),L.off(this._element,it),L.off(this._dialog,st),this._queueCallback(()=>this._hideModal(),this._element,e)}dispose(){[window,this._dialog].forEach(e=>L.off(e,".bs.modal")),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Ue({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new We({trapElement:this._element})}_getConfig(e){return e={...Ge,...K.getDataAttributes(this._element),..."object"==typeof e?e:{}},l(Xe,e,Je),e}_showElement(e){const t=this._isAnimated(),i=V.findOne(".modal-body",this._dialog);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,i&&(i.scrollTop=0),this._element.classList.add(at),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,L.trigger(this._element,"shown.bs.modal",{relatedTarget:e})},this._dialog,t)}_setEscapeEvent(){this._isShown?L.on(this._element,nt,e=>{this._config.keyboard&&e.key===Ye?(e.preventDefault(),this.hide()):this._config.keyboard||e.key!==Ye||this._triggerBackdropTransition()}):L.off(this._element,nt)}_setResizeEvent(){this._isShown?L.on(window,tt,()=>this._adjustDialog()):L.off(window,tt)}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(rt),this._resetAdjustments(),this._scrollBar.reset(),L.trigger(this._element,Ze)})}_showBackdrop(e){L.on(this._element,it,e=>{this._ignoreBackdropClick?this._ignoreBackdropClick=!1:e.target===e.currentTarget&&(!0===this._config.backdrop?this.hide():"static"===this._config.backdrop&&this._triggerBackdropTransition())}),this._backdrop.show(e)}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(L.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented)return;const{classList:e,scrollHeight:t,style:i}=this._element,n=t>document.documentElement.clientHeight;!n&&"hidden"===i.overflowY||e.contains(ot)||(n||(i.overflowY="hidden"),e.add(ot),this._queueCallback(()=>{e.remove(ot),n||this._queueCallback(()=>{i.overflowY=""},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),i=t>0;(!i&&e&&!p()||i&&!e&&p())&&(this._element.style.paddingLeft=`${t}px`),(i&&!e&&!p()||!i&&e&&p())&&(this._element.style.paddingRight=`${t}px`)}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const i=ct.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===i[e])throw new TypeError(`No method named "${e}"`);i[e](t)}})}}L.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',function(e){const t=r(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),L.one(t,et,e=>{e.defaultPrevented||L.one(t,Ze,()=>{h(this)&&this.focus()})});const i=V.findOne(".modal.show");i&&ct.getInstance(i).hide(),ct.getOrCreateInstance(t).toggle(this)}),B(ct),_(ct);const lt="offcanvas",ht={backdrop:!0,keyboard:!0,scroll:!1},ut={backdrop:"boolean",keyboard:"boolean",scroll:"boolean"},ft="show",dt=".offcanvas.show",mt="hidden.bs.offcanvas";class gt extends Q{constructor(e,t){super(e),this._config=this._getConfig(t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get NAME(){return lt}static get Default(){return ht}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||L.trigger(this._element,"show.bs.offcanvas",{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._element.style.visibility="visible",this._backdrop.show(),this._config.scroll||(new He).hide(),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(ft),this._queueCallback(()=>{this._config.scroll||this._focustrap.activate(),L.trigger(this._element,"shown.bs.offcanvas",{relatedTarget:e})},this._element,!0))}hide(){this._isShown&&(L.trigger(this._element,"hide.bs.offcanvas").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.remove(ft),this._backdrop.hide(),this._queueCallback(()=>{this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._element.style.visibility="hidden",this._config.scroll||(new He).reset(),L.trigger(this._element,mt)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_getConfig(e){return e={...ht,...K.getDataAttributes(this._element),..."object"==typeof e?e:{}},l(lt,e,ut),e}_initializeBackDrop(){return new Ue({className:"offcanvas-backdrop",isVisible:this._config.backdrop,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:()=>this.hide()})}_initializeFocusTrap(){return new We({trapElement:this._element})}_addEventListeners(){L.on(this._element,"keydown.dismiss.bs.offcanvas",e=>{this._config.keyboard&&"Escape"===e.key&&this.hide()})}static jQueryInterface(e){return this.each(function(){const t=gt.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}})}}L.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',function(e){const t=r(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),u(this))return;L.one(t,mt,()=>{h(this)&&this.focus()});const i=V.findOne(dt);i&&i!==t&&gt.getInstance(i).hide(),gt.getOrCreateInstance(t).toggle(this)}),L.on(window,"load.bs.offcanvas.data-api",()=>V.find(dt).forEach(e=>gt.getOrCreateInstance(e).show())),B(gt),_(gt);const pt=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),_t=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,vt=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,yt=(e,t)=>{const i=e.nodeName.toLowerCase();if(t.includes(i))return!pt.has(i)||Boolean(_t.test(e.nodeValue)||vt.test(e.nodeValue));const n=t.filter(e=>e instanceof RegExp);for(let s=0,r=n.length;s<r;s++)if(n[s].test(i))return!0;return!1};function bt(e,t,i){if(!e.length)return e;if(i&&"function"==typeof i)return i(e);const n=(new window.DOMParser).parseFromString(e,"text/html"),s=[].concat(...n.body.querySelectorAll("*"));for(let r=0,a=s.length;r<a;r++){const e=s[r],i=e.nodeName.toLowerCase();if(!Object.keys(t).includes(i)){e.remove();continue}const n=[].concat(...e.attributes),a=[].concat(t["*"]||[],t[i]||[]);n.forEach(t=>{yt(t,a)||e.removeAttribute(t.nodeName)})}return n.body.innerHTML}const Et="tooltip",Rt=new Set(["sanitize","allowList","sanitizeFn"]),wt={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},Ft={AUTO:"auto",TOP:"top",RIGHT:p()?"left":"right",BOTTOM:"bottom",LEFT:p()?"right":"left"},At={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},popperConfig:null},St={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},Tt="fade",jt="show",xt="show",Ct="out",Pt=".tooltip-inner",Ot=".modal",Nt="hide.bs.modal",kt="hover",Dt="focus";class Lt extends Q{constructor(e,i){if(void 0===t)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e),this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this._config=this._getConfig(i),this.tip=null,this._setListeners()}static get Default(){return At}static get NAME(){return Et}static get Event(){return St}static get DefaultType(){return wt}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(e){if(this._isEnabled)if(e){const t=this._initializeOnDelegatedTarget(e);t._activeTrigger.click=!t._activeTrigger.click,t._isWithActiveTrigger()?t._enter(null,t):t._leave(null,t)}else{if(this.getTipElement().classList.contains(jt))return void this._leave(null,this);this._enter(null,this)}}dispose(){clearTimeout(this._timeout),L.off(this._element.closest(Ot),Nt,this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this.isWithContent()||!this._isEnabled)return;const e=L.trigger(this._element,this.constructor.Event.SHOW),i=f(this._element),n=null===i?this._element.ownerDocument.documentElement.contains(this._element):i.contains(this._element);if(e.defaultPrevented||!n)return;"tooltip"===this.constructor.NAME&&this.tip&&this.getTitle()!==this.tip.querySelector(Pt).innerHTML&&(this._disposePopper(),this.tip.remove(),this.tip=null);const s=this.getTipElement(),r=(e=>{do{e+=Math.floor(1e6*Math.random())}while(document.getElementById(e));return e})(this.constructor.NAME);s.setAttribute("id",r),this._element.setAttribute("aria-describedby",r),this._config.animation&&s.classList.add(Tt);const a="function"==typeof this._config.placement?this._config.placement.call(this,s,this._element):this._config.placement,o=this._getAttachment(a);this._addAttachmentClass(o);const{container:c}=this._config;H.set(s,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||(c.append(s),L.trigger(this._element,this.constructor.Event.INSERTED)),this._popper?this._popper.update():this._popper=t.createPopper(this._element,s,this._getPopperConfig(o)),s.classList.add(jt);const l=this._resolvePossibleFunction(this._config.customClass);l&&s.classList.add(...l.split(" ")),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(e=>{L.on(e,"mouseover",d)});const h=this.tip.classList.contains(Tt);this._queueCallback(()=>{const e=this._hoverState;this._hoverState=null,L.trigger(this._element,this.constructor.Event.SHOWN),e===Ct&&this._leave(null,this)},this.tip,h)}hide(){if(!this._popper)return;const e=this.getTipElement();if(L.trigger(this._element,this.constructor.Event.HIDE).defaultPrevented)return;e.classList.remove(jt),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(e=>L.off(e,"mouseover",d)),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1;const t=this.tip.classList.contains(Tt);this._queueCallback(()=>{this._isWithActiveTrigger()||(this._hoverState!==xt&&e.remove(),this._cleanTipClass(),this._element.removeAttribute("aria-describedby"),L.trigger(this._element,this.constructor.Event.HIDDEN),this._disposePopper())},this.tip,t),this._hoverState=""}update(){null!==this._popper&&this._popper.update()}isWithContent(){return Boolean(this.getTitle())}getTipElement(){if(this.tip)return this.tip;const e=document.createElement("div");e.innerHTML=this._config.template;const t=e.children[0];return this.setContent(t),t.classList.remove(Tt,jt),this.tip=t,this.tip}setContent(e){this._sanitizeAndSetContent(e,this.getTitle(),Pt)}_sanitizeAndSetContent(e,t,i){const n=V.findOne(i,e);t||!n?this.setElementContent(n,t):n.remove()}setElementContent(e,t){if(null!==e)return o(t)?(t=c(t),void(this._config.html?t.parentNode!==e&&(e.innerHTML="",e.append(t)):e.textContent=t.textContent)):void(this._config.html?(this._config.sanitize&&(t=bt(t,this._config.allowList,this._config.sanitizeFn)),e.innerHTML=t):e.textContent=t)}getTitle(){const e=this._element.getAttribute("data-bs-original-title")||this._config.title;return this._resolvePossibleFunction(e)}updateAttachment(e){return"right"===e?"end":"left"===e?"start":e}_initializeOnDelegatedTarget(e,t){return t||this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(e){return"function"==typeof e?e.call(this._element):e}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:e=>this._handlePopperPlacementChange(e)}],onFirstUpdate:e=>{e.options.placement!==e.placement&&this._handlePopperPlacementChange(e)}};return{...t,..."function"==typeof this._config.popperConfig?this._config.popperConfig(t):this._config.popperConfig}}_addAttachmentClass(e){this.getTipElement().classList.add(`${this._getBasicClassPrefix()}-${this.updateAttachment(e)}`)}_getAttachment(e){return Ft[e.toUpperCase()]}_setListeners(){this._config.trigger.split(" ").forEach(e=>{if("click"===e)L.on(this._element,this.constructor.Event.CLICK,this._config.selector,e=>this.toggle(e));else if("manual"!==e){const t=e===kt?this.constructor.Event.MOUSELEAVE:this.constructor.Event.FOCUSOUT;L.on(this._element,e===kt?this.constructor.Event.MOUSEENTER:this.constructor.Event.FOCUSIN,this._config.selector,e=>this._enter(e)),L.on(this._element,t,this._config.selector,e=>this._leave(e))}}),this._hideModalHandler=()=>{this._element&&this.hide()},L.on(this._element.closest(Ot),Nt,this._hideModalHandler),this._config.selector?this._config={...this._config,trigger:"manual",selector:""}:this._fixTitle()}_fixTitle(){const e=this._element.getAttribute("title"),t=typeof this._element.getAttribute("data-bs-original-title");(e||"string"!==t)&&(this._element.setAttribute("data-bs-original-title",e||""),!e||this._element.getAttribute("aria-label")||this._element.textContent||this._element.setAttribute("aria-label",e),this._element.setAttribute("title",""))}_enter(e,t){t=this._initializeOnDelegatedTarget(e,t),e&&(t._activeTrigger["focusin"===e.type?Dt:kt]=!0),t.getTipElement().classList.contains(jt)||t._hoverState===xt?t._hoverState=xt:(clearTimeout(t._timeout),t._hoverState=xt,t._config.delay&&t._config.delay.show?t._timeout=setTimeout(()=>{t._hoverState===xt&&t.show()},t._config.delay.show):t.show())}_leave(e,t){t=this._initializeOnDelegatedTarget(e,t),e&&(t._activeTrigger["focusout"===e.type?Dt:kt]=t._element.contains(e.relatedTarget)),t._isWithActiveTrigger()||(clearTimeout(t._timeout),t._hoverState=Ct,t._config.delay&&t._config.delay.hide?t._timeout=setTimeout(()=>{t._hoverState===Ct&&t.hide()},t._config.delay.hide):t.hide())}_isWithActiveTrigger(){for(const e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1}_getConfig(e){const t=K.getDataAttributes(this._element);return Object.keys(t).forEach(e=>{Rt.has(e)&&delete t[e]}),(e={...this.constructor.Default,...t,..."object"==typeof e&&e?e:{}}).container=!1===e.container?document.body:c(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),l(Et,e,this.constructor.DefaultType),e.sanitize&&(e.template=bt(e.template,e.allowList,e.sanitizeFn)),e}_getDelegateConfig(){const e={};for(const t in this._config)this.constructor.Default[t]!==this._config[t]&&(e[t]=this._config[t]);return e}_cleanTipClass(){const e=this.getTipElement(),t=new RegExp(`(^|\\s)${this._getBasicClassPrefix()}\\S+`,"g"),i=e.getAttribute("class").match(t);null!==i&&i.length>0&&i.map(e=>e.trim()).forEach(t=>e.classList.remove(t))}_getBasicClassPrefix(){return"bs-tooltip"}_handlePopperPlacementChange(e){const{state:t}=e;t&&(this.tip=t.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(t.placement)))}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null)}static jQueryInterface(e){return this.each(function(){const t=Lt.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}})}}_(Lt);const It={...Lt.Default,placement:"right",offset:[0,8],trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'},Ht={...Lt.DefaultType,content:"(string|element|function)"},Qt={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"};class Bt extends Lt{static get Default(){return It}static get NAME(){return"popover"}static get Event(){return Qt}static get DefaultType(){return Ht}isWithContent(){return this.getTitle()||this._getContent()}setContent(e){this._sanitizeAndSetContent(e,this.getTitle(),".popover-header"),this._sanitizeAndSetContent(e,this._getContent(),".popover-body")}_getContent(){return this._resolvePossibleFunction(this._config.content)}_getBasicClassPrefix(){return"bs-popover"}static jQueryInterface(e){return this.each(function(){const t=Bt.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}})}}_(Bt);const Mt="scrollspy",qt={offset:10,method:"auto",target:""},Ut={offset:"number",method:"string",target:"(string|element)"},zt="active",$t=".nav-link, .list-group-item, .dropdown-item",Kt="position";class Vt extends Q{constructor(e,t){super(e),this._scrollElement="BODY"===this._element.tagName?window:this._element,this._config=this._getConfig(t),this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,L.on(this._scrollElement,"scroll.bs.scrollspy",()=>this._process()),this.refresh(),this._process()}static get Default(){return qt}static get NAME(){return Mt}refresh(){const e="auto"===this._config.method?this._scrollElement===this._scrollElement.window?"offset":Kt:this._config.method,t=e===Kt?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),V.find($t,this._config.target).map(i=>{const n=s(i),r=n?V.findOne(n):null;if(r){const i=r.getBoundingClientRect();if(i.width||i.height)return[K[e](r).top+t,n]}return null}).filter(e=>e).sort((e,t)=>e[0]-t[0]).forEach(e=>{this._offsets.push(e[0]),this._targets.push(e[1])})}dispose(){L.off(this._scrollElement,".bs.scrollspy"),super.dispose()}_getConfig(e){return(e={...qt,...K.getDataAttributes(this._element),..."object"==typeof e&&e?e:{}}).target=c(e.target)||document.documentElement,l(Mt,e,Ut),e}_getScrollTop(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}_getScrollHeight(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}_getOffsetHeight(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}_process(){const e=this._getScrollTop()+this._config.offset,t=this._getScrollHeight(),i=this._config.offset+t-this._getOffsetHeight();if(this._scrollHeight!==t&&this.refresh(),e>=i){const e=this._targets[this._targets.length-1];this._activeTarget!==e&&this._activate(e)}else{if(this._activeTarget&&e<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(let t=this._offsets.length;t--;)this._activeTarget!==this._targets[t]&&e>=this._offsets[t]&&(void 0===this._offsets[t+1]||e<this._offsets[t+1])&&this._activate(this._targets[t])}}_activate(e){this._activeTarget=e,this._clear();const t=$t.split(",").map(t=>`${t}[data-bs-target="${e}"],${t}[href="${e}"]`),i=V.findOne(t.join(","),this._config.target);i.classList.add(zt),i.classList.contains("dropdown-item")?V.findOne(".dropdown-toggle",i.closest(".dropdown")).classList.add(zt):V.parents(i,".nav, .list-group").forEach(e=>{V.prev(e,".nav-link, .list-group-item").forEach(e=>e.classList.add(zt)),V.prev(e,".nav-item").forEach(e=>{V.children(e,".nav-link").forEach(e=>e.classList.add(zt))})}),L.trigger(this._scrollElement,"activate.bs.scrollspy",{relatedTarget:e})}_clear(){V.find($t,this._config.target).filter(e=>e.classList.contains(zt)).forEach(e=>e.classList.remove(zt))}static jQueryInterface(e){return this.each(function(){const t=Vt.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}})}}L.on(window,"load.bs.scrollspy.data-api",()=>{V.find('[data-bs-spy="scroll"]').forEach(e=>new Vt(e))}),_(Vt);const Wt="active",Xt="fade",Yt="show",Gt=".active",Jt=":scope > li > .active";class Zt extends Q{static get NAME(){return"tab"}show(){if(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&this._element.classList.contains(Wt))return;let e;const t=r(this._element),i=this._element.closest(".nav, .list-group");i&&(e=V.find("UL"===i.nodeName||"OL"===i.nodeName?Jt:Gt,i),e=e[e.length-1]);const n=e?L.trigger(e,"hide.bs.tab",{relatedTarget:this._element}):null;if(L.trigger(this._element,"show.bs.tab",{relatedTarget:e}).defaultPrevented||null!==n&&n.defaultPrevented)return;this._activate(this._element,i);const s=()=>{L.trigger(e,"hidden.bs.tab",{relatedTarget:this._element}),L.trigger(this._element,"shown.bs.tab",{relatedTarget:e})};t?this._activate(t,t.parentNode,s):s()}_activate(e,t,i){const n=(!t||"UL"!==t.nodeName&&"OL"!==t.nodeName?V.children(t,Gt):V.find(Jt,t))[0],s=i&&n&&n.classList.contains(Xt),r=()=>this._transitionComplete(e,n,i);n&&s?(n.classList.remove(Yt),this._queueCallback(r,e,!0)):r()}_transitionComplete(e,t,i){if(t){t.classList.remove(Wt);const e=V.findOne(":scope > .dropdown-menu .active",t.parentNode);e&&e.classList.remove(Wt),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!1)}e.classList.add(Wt),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!0),e.classList.contains(Xt)&&e.classList.add(Yt);let n=e.parentNode;if(n&&"LI"===n.nodeName&&(n=n.parentNode),n&&n.classList.contains("dropdown-menu")){const t=e.closest(".dropdown");t&&V.find(".dropdown-toggle",t).forEach(e=>e.classList.add(Wt)),e.setAttribute("aria-expanded",!0)}i&&i()}static jQueryInterface(e){return this.each(function(){const t=Zt.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}})}}L.on(document,"click.bs.tab.data-api",'[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),u(this)||Zt.getOrCreateInstance(this).show()}),_(Zt);const ei="toast",ti="hide",ii="show",ni="showing",si={animation:"boolean",autohide:"boolean",delay:"number"},ri={animation:!0,autohide:!0,delay:5e3};class ai extends Q{constructor(e,t){super(e),this._config=this._getConfig(t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get DefaultType(){return si}static get Default(){return ri}static get NAME(){return ei}show(){L.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(ti),this._element.classList.add(ii),this._element.classList.add(ni),this._queueCallback(()=>{this._element.classList.remove(ni),L.trigger(this._element,"shown.bs.toast"),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this._element.classList.contains(ii)&&(L.trigger(this._element,"hide.bs.toast").defaultPrevented||(this._element.classList.add(ni),this._queueCallback(()=>{this._element.classList.add(ti),this._element.classList.remove(ni),this._element.classList.remove(ii),L.trigger(this._element,"hidden.bs.toast")},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this._element.classList.contains(ii)&&this._element.classList.remove(ii),super.dispose()}_getConfig(e){return e={...ri,...K.getDataAttributes(this._element),..."object"==typeof e&&e?e:{}},l(ei,e,this.constructor.DefaultType),e}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)return void this._clearTimeout();const i=e.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){L.on(this._element,"mouseover.bs.toast",e=>this._onInteraction(e,!0)),L.on(this._element,"mouseout.bs.toast",e=>this._onInteraction(e,!1)),L.on(this._element,"focusin.bs.toast",e=>this._onInteraction(e,!0)),L.on(this._element,"focusout.bs.toast",e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=ai.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e](this)}})}}return B(ai),_(ai),{Alert:M,Button:U,Carousel:re,Collapse:ge,Dropdown:De,Modal:ct,Offcanvas:gt,Popover:Bt,ScrollSpy:Vt,Tab:Zt,Toast:ai,Tooltip:Lt}});var cacheCommon=require("@algolia/cache-common"),cacheInMemory=require("@algolia/cache-in-memory"),clientAnalytics=require("@algolia/client-analytics"),clientCommon=require("@algolia/client-common"),clientPersonalization=require("@algolia/client-personalization"),clientSearch=require("@algolia/client-search"),loggerCommon=require("@algolia/logger-common"),requesterNodeHttp=require("@algolia/requester-node-http"),transporter=require("@algolia/transporter");function algoliasearch(e,t,i){const n={appId:e,apiKey:t,timeouts:{connect:2,read:5,write:30},requester:requesterNodeHttp.createNodeHttpRequester(),logger:loggerCommon.createNullLogger(),responsesCache:cacheCommon.createNullCache(),requestsCache:cacheCommon.createNullCache(),hostsCache:cacheInMemory.createInMemoryCache(),userAgent:transporter.createUserAgent(clientCommon.version).add({segment:"Node.js",version:process.versions.node})},s={...n,...i},r=()=>e=>clientPersonalization.createPersonalizationClient({...n,...e,methods:{getPersonalizationStrategy:clientPersonalization.getPersonalizationStrategy,setPersonalizationStrategy:clientPersonalization.setPersonalizationStrategy}});return clientSearch.createSearchClient({...s,methods:{search:clientSearch.multipleQueries,searchForFacetValues:clientSearch.multipleSearchForFacetValues,multipleBatch:clientSearch.multipleBatch,multipleGetObjects:clientSearch.multipleGetObjects,multipleQueries:clientSearch.multipleQueries,copyIndex:clientSearch.copyIndex,copySettings:clientSearch.copySettings,copyRules:clientSearch.copyRules,copySynonyms:clientSearch.copySynonyms,moveIndex:clientSearch.moveIndex,listIndices:clientSearch.listIndices,getLogs:clientSearch.getLogs,listClusters:clientSearch.listClusters,multipleSearchForFacetValues:clientSearch.multipleSearchForFacetValues,getApiKey:clientSearch.getApiKey,addApiKey:clientSearch.addApiKey,listApiKeys:clientSearch.listApiKeys,updateApiKey:clientSearch.updateApiKey,deleteApiKey:clientSearch.deleteApiKey,restoreApiKey:clientSearch.restoreApiKey,assignUserID:clientSearch.assignUserID,assignUserIDs:clientSearch.assignUserIDs,getUserID:clientSearch.getUserID,searchUserIDs:clientSearch.searchUserIDs,listUserIDs:clientSearch.listUserIDs,getTopUserIDs:clientSearch.getTopUserIDs,removeUserID:clientSearch.removeUserID,hasPendingMappings:clientSearch.hasPendingMappings,generateSecuredApiKey:clientSearch.generateSecuredApiKey,getSecuredApiKeyRemainingValidity:clientSearch.getSecuredApiKeyRemainingValidity,destroy:clientCommon.destroy,clearDictionaryEntries:clientSearch.clearDictionaryEntries,deleteDictionaryEntries:clientSearch.deleteDictionaryEntries,getDictionarySettings:clientSearch.getDictionarySettings,getAppTask:clientSearch.getAppTask,replaceDictionaryEntries:clientSearch.replaceDictionaryEntries,saveDictionaryEntries:clientSearch.saveDictionaryEntries,searchDictionaryEntries:clientSearch.searchDictionaryEntries,setDictionarySettings:clientSearch.setDictionarySettings,waitAppTask:clientSearch.waitAppTask,customRequest:clientSearch.customRequest,initIndex:e=>t=>clientSearch.initIndex(e)(t,{methods:{batch:clientSearch.batch,delete:clientSearch.deleteIndex,findAnswers:clientSearch.findAnswers,getObject:clientSearch.getObject,getObjects:clientSearch.getObjects,saveObject:clientSearch.saveObject,saveObjects:clientSearch.saveObjects,search:clientSearch.search,searchForFacetValues:clientSearch.searchForFacetValues,waitTask:clientSearch.waitTask,setSettings:clientSearch.setSettings,getSettings:clientSearch.getSettings,partialUpdateObject:clientSearch.partialUpdateObject,partialUpdateObjects:clientSearch.partialUpdateObjects,deleteObject:clientSearch.deleteObject,deleteObjects:clientSearch.deleteObjects,deleteBy:clientSearch.deleteBy,clearObjects:clientSearch.clearObjects,browseObjects:clientSearch.browseObjects,getObjectPosition:clientSearch.getObjectPosition,findObject:clientSearch.findObject,exists:clientSearch.exists,saveSynonym:clientSearch.saveSynonym,saveSynonyms:clientSearch.saveSynonyms,getSynonym:clientSearch.getSynonym,searchSynonyms:clientSearch.searchSynonyms,browseSynonyms:clientSearch.browseSynonyms,deleteSynonym:clientSearch.deleteSynonym,clearSynonyms:clientSearch.clearSynonyms,replaceAllObjects:clientSearch.replaceAllObjects,replaceAllSynonyms:clientSearch.replaceAllSynonyms,searchRules:clientSearch.searchRules,getRule:clientSearch.getRule,deleteRule:clientSearch.deleteRule,saveRule:clientSearch.saveRule,saveRules:clientSearch.saveRules,replaceAllRules:clientSearch.replaceAllRules,browseRules:clientSearch.browseRules,clearRules:clientSearch.clearRules}}),initAnalytics:()=>e=>clientAnalytics.createAnalyticsClient({...n,...e,methods:{addABTest:clientAnalytics.addABTest,getABTest:clientAnalytics.getABTest,getABTests:clientAnalytics.getABTests,stopABTest:clientAnalytics.stopABTest,deleteABTest:clientAnalytics.deleteABTest}}),initPersonalization:r,initRecommendation:()=>e=>(s.logger.info("The `initRecommendation` method is deprecated. Use `initPersonalization` instead."),r()(e))}})}algoliasearch.version=clientCommon.version,module.exports=algoliasearch,function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).algoliasearchHelper=e()}(function(){return function e(t,i,n){function s(a,o){if(!i[a]){if(!t[a]){var c="function"==typeof require&&require;if(!o&&c)return c(a,!0);if(r)return r(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var h=i[a]={exports:{}};t[a][0].call(h.exports,function(e){return s(t[a][1][e]||e)},h,h.exports,e,t,i,n)}return i[a].exports}for(var r="function"==typeof require&&require,a=0;a<n.length;a++)s(n[a]);return s}({1:[function(e,t,i){"use strict";var n=e("./src/algoliasearch.helper"),s=e("./src/SearchParameters"),r=e("./src/SearchResults");function a(e,t,i){return new n(e,t,i)}a.version=e("./src/version.js"),a.AlgoliaSearchHelper=n,a.SearchParameters=s,a.SearchResults=r,t.exports=a},{"./src/SearchParameters":5,"./src/SearchResults":7,"./src/algoliasearch.helper":8,"./src/version.js":23}],2:[function(e,t,i){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function s(e){return"function"==typeof e}function r(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,i,n,o,c,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var h=new Error('Uncaught, unspecified "error" event. ('+t+")");throw h.context=t,h}if(a(i=this._events[e]))return!1;if(s(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),i.apply(this,o)}else if(r(i))for(o=Array.prototype.slice.call(arguments,1),n=(l=i.slice()).length,c=0;c<n;c++)l[c].apply(this,o);return!0},n.prototype.on=n.prototype.addListener=function(e,t){var i;if(!s(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,s(t.listener)?t.listener:t),this._events[e]?r(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,r(this._events[e])&&!this._events[e].warned&&(i=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.once=function(e,t){if(!s(t))throw TypeError("listener must be a function");var i=!1;function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var i,n,a,o;if(!s(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(i=this._events[e]).length,n=-1,i===t||s(i.listener)&&i.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(r(i)){for(o=a;o-- >0;)if(i[o]===t||i[o].listener&&i[o].listener===t){n=o;break}if(n<0)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(s(i=this._events[e]))this.removeListener(e,i);else if(i)for(;i.length;)this.removeListener(e,i[i.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?s(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(s(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},{}],3:[function(e,t,i){"use strict";var n=e("events");function s(e,t){this.main=e,this.fn=t,this.lastResults=null}e("../functions/inherits")(s,n.EventEmitter),s.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)},s.prototype.getModifiedState=function(e){return this.fn(e)},t.exports=s},{"../functions/inherits":14,events:2}],4:[function(e,t,i){"use strict";var n=e("../functions/defaultsPure"),s=e("../functions/omit"),r=e("../functions/objectHasKeys"),a={addRefinement:function(e,t,i){if(a.isRefined(e,t,i))return e;var s=""+i,r=e[t]?e[t].concat(s):[s],o={};return o[t]=r,n({},o,e)},removeRefinement:function(e,t,i){if(void 0===i)return a.clearRefinement(e,function(e,i){return t===i});var n=""+i;return a.clearRefinement(e,function(e,i){return t===i&&n===e})},toggleRefinement:function(e,t,i){if(void 0===i)throw new Error("toggleRefinement should be used with a value");return a.isRefined(e,t,i)?a.removeRefinement(e,t,i):a.addRefinement(e,t,i)},clearRefinement:function(e,t,i){if(void 0===t)return r(e)?{}:e;if("string"==typeof t)return s(e,[t]);if("function"==typeof t){var n=!1,a=Object.keys(e).reduce(function(s,r){var a=e[r]||[],o=a.filter(function(e){return!t(e,r,i)});return o.length!==a.length&&(n=!0),s[r]=o,s},{});return n?a:e}},isRefined:function(e,t,i){var n=!!e[t]&&e[t].length>0;return void 0!==i&&n?-1!==e[t].indexOf(""+i):n}};t.exports=a},{"../functions/defaultsPure":10,"../functions/objectHasKeys":17,"../functions/omit":18}],5:[function(e,t,i){"use strict";var n=e("../functions/merge"),s=e("../functions/defaultsPure"),r=e("../functions/intersection"),a=e("../functions/find"),o=e("../functions/valToNumber"),c=e("../functions/omit"),l=e("../functions/objectHasKeys"),h=e("../utils/isValidUserToken"),u=e("./RefinementList");function f(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every(function(e,i){return f(t[i],e)}):e===t}function d(e){var t=e?d._parseNumbers(e):{};void 0===t.userToken||h(t.userToken)||console.warn("[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\n  - Format: [a-zA-Z0-9_-]{1,64}"),this.facets=t.facets||[],this.disjunctiveFacets=t.disjunctiveFacets||[],this.hierarchicalFacets=t.hierarchicalFacets||[],this.facetsRefinements=t.facetsRefinements||{},this.facetsExcludes=t.facetsExcludes||{},this.disjunctiveFacetsRefinements=t.disjunctiveFacetsRefinements||{},this.numericRefinements=t.numericRefinements||{},this.tagRefinements=t.tagRefinements||[],this.hierarchicalFacetsRefinements=t.hierarchicalFacetsRefinements||{};var i=this;Object.keys(t).forEach(function(e){-1===d.PARAMETERS.indexOf(e)&&void 0!==t[e]&&(i[e]=t[e])})}d.PARAMETERS=Object.keys(new d),d._parseNumbers=function(e){if(e instanceof d)return e;var t={};if(["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"].forEach(function(i){var n=e[i];if("string"==typeof n){var s=parseFloat(n);t[i]=isNaN(s)?n:s}}),Array.isArray(e.insideBoundingBox)&&(t.insideBoundingBox=e.insideBoundingBox.map(function(e){return Array.isArray(e)?e.map(function(e){return parseFloat(e)}):e})),e.numericRefinements){var i={};Object.keys(e.numericRefinements).forEach(function(t){var n=e.numericRefinements[t]||{};i[t]={},Object.keys(n).forEach(function(e){var s=n[e].map(function(e){return Array.isArray(e)?e.map(function(e){return"string"==typeof e?parseFloat(e):e}):"string"==typeof e?parseFloat(e):e});i[t][e]=s})}),t.numericRefinements=i}return n({},e,t)},d.make=function(e){var t=new d(e);return(e.hierarchicalFacets||[]).forEach(function(e){if(e.rootPath){var i=t.getHierarchicalRefinement(e.name);i.length>0&&0!==i[0].indexOf(e.rootPath)&&(t=t.clearRefinements(e.name)),0===(i=t.getHierarchicalRefinement(e.name)).length&&(t=t.toggleHierarchicalFacetRefinement(e.name,e.rootPath))}}),t},d.validate=function(e,t){var i=t||{};return e.tagFilters&&i.tagRefinements&&i.tagRefinements.length>0?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):e.tagRefinements.length>0&&i.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):e.numericFilters&&i.numericRefinements&&l(i.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):l(e.numericRefinements)&&i.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null},d.prototype={constructor:d,clearRefinements:function(e){var t={numericRefinements:this._clearNumericRefinements(e),facetsRefinements:u.clearRefinement(this.facetsRefinements,e,"conjunctiveFacet"),facetsExcludes:u.clearRefinement(this.facetsExcludes,e,"exclude"),disjunctiveFacetsRefinements:u.clearRefinement(this.disjunctiveFacetsRefinements,e,"disjunctiveFacet"),hierarchicalFacetsRefinements:u.clearRefinement(this.hierarchicalFacetsRefinements,e,"hierarchicalFacet")};return t.numericRefinements===this.numericRefinements&&t.facetsRefinements===this.facetsRefinements&&t.facetsExcludes===this.facetsExcludes&&t.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&t.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(t)},clearTags:function(){return void 0===this.tagFilters&&0===this.tagRefinements.length?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(e){return e===this.index?this:this.setQueryParameters({index:e})},setQuery:function(e){return e===this.query?this:this.setQueryParameters({query:e})},setPage:function(e){return e===this.page?this:this.setQueryParameters({page:e})},setFacets:function(e){return this.setQueryParameters({facets:e})},setDisjunctiveFacets:function(e){return this.setQueryParameters({disjunctiveFacets:e})},setHitsPerPage:function(e){return this.hitsPerPage===e?this:this.setQueryParameters({hitsPerPage:e})},setTypoTolerance:function(e){return this.typoTolerance===e?this:this.setQueryParameters({typoTolerance:e})},addNumericRefinement:function(e,t,i){var s=o(i);if(this.isNumericRefined(e,t,s))return this;var r=n({},this.numericRefinements);return r[e]=n({},r[e]),r[e][t]?(r[e][t]=r[e][t].slice(),r[e][t].push(s)):r[e][t]=[s],this.setQueryParameters({numericRefinements:r})},getConjunctiveRefinements:function(e){return this.isConjunctiveFacet(e)&&this.facetsRefinements[e]||[]},getDisjunctiveRefinements:function(e){return this.isDisjunctiveFacet(e)&&this.disjunctiveFacetsRefinements[e]||[]},getHierarchicalRefinement:function(e){return this.hierarchicalFacetsRefinements[e]||[]},getExcludeRefinements:function(e){return this.isConjunctiveFacet(e)&&this.facetsExcludes[e]||[]},removeNumericRefinement:function(e,t,i){return void 0!==i?this.isNumericRefined(e,t,i)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(n,s){return s===e&&n.op===t&&f(n.val,o(i))})}):this:void 0!==t?this.isNumericRefined(e,t)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(i,n){return n===e&&i.op===t})}):this:this.isNumericRefined(e)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(t,i){return i===e})}):this},getNumericRefinements:function(e){return this.numericRefinements[e]||{}},getNumericRefinement:function(e,t){return this.numericRefinements[e]&&this.numericRefinements[e][t]},_clearNumericRefinements:function(e){if(void 0===e)return l(this.numericRefinements)?{}:this.numericRefinements;if("string"==typeof e)return c(this.numericRefinements,[e]);if("function"==typeof e){var t=!1,i=this.numericRefinements,n=Object.keys(i).reduce(function(n,s){var r=i[s],a={};return r=r||{},Object.keys(r).forEach(function(i){var n=r[i]||[],o=[];n.forEach(function(t){e({val:t,op:i},s,"numeric")||o.push(t)}),o.length!==n.length&&(t=!0),a[i]=o}),n[s]=a,n},{});return t?n:this.numericRefinements}},addFacet:function(e){return this.isConjunctiveFacet(e)?this:this.setQueryParameters({facets:this.facets.concat([e])})},addDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([e])})},addHierarchicalFacet:function(e){if(this.isHierarchicalFacet(e.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+e.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([e])})},addFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return u.isRefined(this.facetsRefinements,e,t)?this:this.setQueryParameters({facetsRefinements:u.addRefinement(this.facetsRefinements,e,t)})},addExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return u.isRefined(this.facetsExcludes,e,t)?this:this.setQueryParameters({facetsExcludes:u.addRefinement(this.facetsExcludes,e,t)})},addDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return u.isRefined(this.disjunctiveFacetsRefinements,e,t)?this:this.setQueryParameters({disjunctiveFacetsRefinements:u.addRefinement(this.disjunctiveFacetsRefinements,e,t)})},addTagRefinement:function(e){if(this.isTagRefined(e))return this;var t={tagRefinements:this.tagRefinements.concat(e)};return this.setQueryParameters(t)},removeFacet:function(e){return this.isConjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({facets:this.facets.filter(function(t){return t!==e})}):this},removeDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.filter(function(t){return t!==e})}):this},removeHierarchicalFacet:function(e){return this.isHierarchicalFacet(e)?this.clearRefinements(e).setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.filter(function(t){return t.name!==e})}):this},removeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return u.isRefined(this.facetsRefinements,e,t)?this.setQueryParameters({facetsRefinements:u.removeRefinement(this.facetsRefinements,e,t)}):this},removeExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return u.isRefined(this.facetsExcludes,e,t)?this.setQueryParameters({facetsExcludes:u.removeRefinement(this.facetsExcludes,e,t)}):this},removeDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return u.isRefined(this.disjunctiveFacetsRefinements,e,t)?this.setQueryParameters({disjunctiveFacetsRefinements:u.removeRefinement(this.disjunctiveFacetsRefinements,e,t)}):this},removeTagRefinement:function(e){if(!this.isTagRefined(e))return this;var t={tagRefinements:this.tagRefinements.filter(function(t){return t!==e})};return this.setQueryParameters(t)},toggleRefinement:function(e,t){return this.toggleFacetRefinement(e,t)},toggleFacetRefinement:function(e,t){if(this.isHierarchicalFacet(e))return this.toggleHierarchicalFacetRefinement(e,t);if(this.isConjunctiveFacet(e))return this.toggleConjunctiveFacetRefinement(e,t);if(this.isDisjunctiveFacet(e))return this.toggleDisjunctiveFacetRefinement(e,t);throw new Error("Cannot refine the undeclared facet "+e+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:u.toggleRefinement(this.facetsRefinements,e,t)})},toggleExcludeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:u.toggleRefinement(this.facetsExcludes,e,t)})},toggleDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:u.toggleRefinement(this.disjunctiveFacetsRefinements,e,t)})},toggleHierarchicalFacetRefinement:function(e,t){if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration");var i=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),n={},r=void 0!==this.hierarchicalFacetsRefinements[e]&&this.hierarchicalFacetsRefinements[e].length>0&&(this.hierarchicalFacetsRefinements[e][0]===t||0===this.hierarchicalFacetsRefinements[e][0].indexOf(t+i));return n[e]=r?-1===t.indexOf(i)?[]:[t.slice(0,t.lastIndexOf(i))]:[t],this.setQueryParameters({hierarchicalFacetsRefinements:s({},n,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(e,t){if(this.isHierarchicalFacetRefined(e))throw new Error(e+" is already refined.");if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration.");var i={};return i[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:s({},i,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(e){if(!this.isHierarchicalFacetRefined(e))return this;var t={};return t[e]=[],this.setQueryParameters({hierarchicalFacetsRefinements:s({},t,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(e){return this.isTagRefined(e)?this.removeTagRefinement(e):this.addTagRefinement(e)},isDisjunctiveFacet:function(e){return this.disjunctiveFacets.indexOf(e)>-1},isHierarchicalFacet:function(e){return void 0!==this.getHierarchicalFacetByName(e)},isConjunctiveFacet:function(e){return this.facets.indexOf(e)>-1},isFacetRefined:function(e,t){return!!this.isConjunctiveFacet(e)&&u.isRefined(this.facetsRefinements,e,t)},isExcludeRefined:function(e,t){return!!this.isConjunctiveFacet(e)&&u.isRefined(this.facetsExcludes,e,t)},isDisjunctiveFacetRefined:function(e,t){return!!this.isDisjunctiveFacet(e)&&u.isRefined(this.disjunctiveFacetsRefinements,e,t)},isHierarchicalFacetRefined:function(e,t){if(!this.isHierarchicalFacet(e))return!1;var i=this.getHierarchicalRefinement(e);return t?-1!==i.indexOf(t):i.length>0},isNumericRefined:function(e,t,i){if(void 0===i&&void 0===t)return!!this.numericRefinements[e];var n=this.numericRefinements[e]&&void 0!==this.numericRefinements[e][t];if(void 0===i||!n)return n;var s,r=o(i),c=void 0!==(s=r,a(this.numericRefinements[e][t],function(e){return f(e,s)}));return n&&c},isTagRefined:function(e){return-1!==this.tagRefinements.indexOf(e)},getRefinedDisjunctiveFacets:function(){var e=this,t=r(Object.keys(this.numericRefinements).filter(function(t){return Object.keys(e.numericRefinements[t]).length>0}),this.disjunctiveFacets);return Object.keys(this.disjunctiveFacetsRefinements).filter(function(t){return e.disjunctiveFacetsRefinements[t].length>0}).concat(t).concat(this.getRefinedHierarchicalFacets())},getRefinedHierarchicalFacets:function(){var e=this;return r(this.hierarchicalFacets.map(function(e){return e.name}),Object.keys(this.hierarchicalFacetsRefinements).filter(function(t){return e.hierarchicalFacetsRefinements[t].length>0}))},getUnrefinedDisjunctiveFacets:function(){var e=this.getRefinedDisjunctiveFacets();return this.disjunctiveFacets.filter(function(t){return-1===e.indexOf(t)})},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","hierarchicalFacets","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements"],getQueryParams:function(){var e=this.managedParameters,t={},i=this;return Object.keys(this).forEach(function(n){var s=i[n];-1===e.indexOf(n)&&void 0!==s&&(t[n]=s)}),t},setQueryParameter:function(e,t){if(this[e]===t)return this;var i={};return i[e]=t,this.setQueryParameters(i)},setQueryParameters:function(e){if(!e)return this;var t=d.validate(this,e);if(t)throw t;var i=this,n=d._parseNumbers(e),s=Object.keys(this).reduce(function(e,t){return e[t]=i[t],e},{}),r=Object.keys(n).reduce(function(e,t){var i=void 0!==n[t];return void 0===e[t]||i?(i&&(e[t]=n[t]),e):c(e,[t])},s);return new this.constructor(r)},resetPage:function(){return void 0===this.page?this:this.setPage(0)},_getHierarchicalFacetSortBy:function(e){return e.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(e){return e.separator||" > "},_getHierarchicalRootPath:function(e){return e.rootPath||null},_getHierarchicalShowParentLevel:function(e){return"boolean"!=typeof e.showParentLevel||e.showParentLevel},getHierarchicalFacetByName:function(e){return a(this.hierarchicalFacets,function(t){return t.name===e})},getHierarchicalFacetBreadcrumb:function(e){if(!this.isHierarchicalFacet(e))return[];var t=this.getHierarchicalRefinement(e)[0];if(!t)return[];var i=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e));return t.split(i).map(function(e){return e.trim()})},toString:function(){return JSON.stringify(this,null,2)}},t.exports=d},{"../functions/defaultsPure":10,"../functions/find":11,"../functions/intersection":15,"../functions/merge":16,"../functions/objectHasKeys":17,"../functions/omit":18,"../functions/valToNumber":20,"../utils/isValidUserToken":22,"./RefinementList":4}],6:[function(e,t,i){"use strict";t.exports=function(e){return function(t,i){var a=e.hierarchicalFacets[i],o=e.hierarchicalFacetsRefinements[a.name]&&e.hierarchicalFacetsRefinements[a.name][0]||"",c=e._getHierarchicalFacetSeparator(a),l=e._getHierarchicalRootPath(a),h=e._getHierarchicalShowParentLevel(a),u=r(e._getHierarchicalFacetSortBy(a)),f=t.every(function(e){return e.exhaustive}),d=function(e,t,i,r,a){return function(o,c,l){var h=o;if(l>0){var u=0;for(h=o;u<l;){var f=h&&Array.isArray(h.data)?h.data:[];h=s(f,function(e){return e.isRefined}),u++}}if(h){var d=Object.keys(c.data).map(function(e){return[e,c.data[e]]}).filter(function(e){return function(e,t,i,n,s,r){return(!s||0===e.indexOf(s)&&s!==e)&&(!s&&-1===e.indexOf(n)||s&&e.split(n).length-s.split(n).length==1||-1===e.indexOf(n)&&-1===i.indexOf(n)||0===i.indexOf(e)||0===e.indexOf(t+n)&&(r||0===e.indexOf(i)))}(e[0],h.path||i,a,t,i,r)});h.data=n(d.map(function(e){return function(e,t,i,n,s){var r=t.split(i);return{name:r[r.length-1].trim(),path:t,count:e,isRefined:n===t||0===n.indexOf(t+i),exhaustive:s,data:null}}(e[1],e[0],t,a,c.exhaustive)}),e[0],e[1])}return o}}(u,c,l,h,o),m=t;return l&&(m=t.slice(l.split(c).length)),m.reduce(d,{name:e.hierarchicalFacets[i].name,count:null,isRefined:!0,path:null,exhaustive:f,data:null})}};var n=e("../functions/orderBy"),s=e("../functions/find"),r=e("../functions/formatSort")},{"../functions/find":11,"../functions/formatSort":13,"../functions/orderBy":19}],7:[function(e,t,i){"use strict";var n=e("../functions/merge"),s=e("../functions/defaultsPure"),r=e("../functions/orderBy"),a=e("../functions/compact"),o=e("../functions/find"),c=e("../functions/findIndex"),l=e("../functions/formatSort"),h=e("./generate-hierarchical-tree");function u(e){var t={};return e.forEach(function(e,i){t[e]=i}),t}function f(e,t,i){t&&t[i]&&(e.stats=t[i])}function d(e,t){var i=t[0];this._rawResults=t;var r=this;Object.keys(i).forEach(function(e){r[e]=i[e]}),this.processingTimeMS=t.reduce(function(e,t){return void 0===t.processingTimeMS?e:e+t.processingTimeMS},0),this.disjunctiveFacets=[],this.hierarchicalFacets=e.hierarchicalFacets.map(function(){return[]}),this.facets=[];var l=e.getRefinedDisjunctiveFacets(),d=u(e.facets),m=u(e.disjunctiveFacets),g=1,p=i.facets||{};Object.keys(p).forEach(function(t){var n,s=p[t],a=(n=t,o(e.hierarchicalFacets,function(e){return(e.attributes||[]).indexOf(n)>-1}));if(a){var l=a.attributes.indexOf(t),h=c(e.hierarchicalFacets,function(e){return e.name===a.name});r.hierarchicalFacets[h][l]={attribute:t,data:s,exhaustive:i.exhaustiveFacetsCount}}else{var u,g=-1!==e.disjunctiveFacets.indexOf(t),_=-1!==e.facets.indexOf(t);g&&(r.disjunctiveFacets[u=m[t]]={name:t,data:s,exhaustive:i.exhaustiveFacetsCount},f(r.disjunctiveFacets[u],i.facets_stats,t)),_&&(r.facets[u=d[t]]={name:t,data:s,exhaustive:i.exhaustiveFacetsCount},f(r.facets[u],i.facets_stats,t))}}),this.hierarchicalFacets=a(this.hierarchicalFacets),l.forEach(function(a){var o=t[g],l=o&&o.facets?o.facets:{},h=e.getHierarchicalFacetByName(a);Object.keys(l).forEach(function(t){var a,u=l[t];if(h){a=c(e.hierarchicalFacets,function(e){return e.name===h.name});var d=c(r.hierarchicalFacets[a],function(e){return e.attribute===t});if(-1===d)return;r.hierarchicalFacets[a][d].data=n({},r.hierarchicalFacets[a][d].data,u)}else r.disjunctiveFacets[a=m[t]]={name:t,data:s({},u,i.facets&&i.facets[t]||{}),exhaustive:o.exhaustiveFacetsCount},f(r.disjunctiveFacets[a],o.facets_stats,t),e.disjunctiveFacetsRefinements[t]&&e.disjunctiveFacetsRefinements[t].forEach(function(i){!r.disjunctiveFacets[a].data[i]&&e.disjunctiveFacetsRefinements[t].indexOf(i)>-1&&(r.disjunctiveFacets[a].data[i]=0)})}),g++}),e.getRefinedHierarchicalFacets().forEach(function(i){var n=e.getHierarchicalFacetByName(i),a=e._getHierarchicalFacetSeparator(n),o=e.getHierarchicalRefinement(i);if(!(0===o.length||o[0].split(a).length<2)){var l=t[g],h=l&&l.facets?l.facets:{};Object.keys(h).forEach(function(t){var i=h[t],l=c(e.hierarchicalFacets,function(e){return e.name===n.name}),u=c(r.hierarchicalFacets[l],function(e){return e.attribute===t});if(-1!==u){var f={};if(o.length>0){var d=o[0].split(a)[0];f[d]=r.hierarchicalFacets[l][u].data[d]}r.hierarchicalFacets[l][u].data=s(f,i,r.hierarchicalFacets[l][u].data)}}),g++}}),Object.keys(e.facetsExcludes).forEach(function(t){var n=e.facetsExcludes[t],s=d[t];r.facets[s]={name:t,data:i.facets[t],exhaustive:i.exhaustiveFacetsCount},n.forEach(function(e){r.facets[s]=r.facets[s]||{name:t},r.facets[s].data=r.facets[s].data||{},r.facets[s].data[e]=0})}),this.hierarchicalFacets=this.hierarchicalFacets.map(h(e)),this.facets=a(this.facets),this.disjunctiveFacets=a(this.disjunctiveFacets),this._state=e}function m(e,t,i,n){if(n=n||0,Array.isArray(t))return e(t,i[n]);if(!t.data||0===t.data.length)return t;var r=t.data.map(function(t){return m(e,t,i,n+1)}),a=e(r,i[n]);return s({data:a},t)}function g(e,t){var i=o(e,function(e){return e.name===t});return i&&i.stats}function p(e,t,i,n,s){var r=o(s,function(e){return e.name===i});return{type:t,attributeName:i,name:n,count:r&&r.data&&r.data[n]?r.data[n]:0,exhaustive:r&&r.exhaustive||!1}}d.prototype.getFacetByName=function(e){function t(t){return t.name===e}return o(this.facets,t)||o(this.disjunctiveFacets,t)||o(this.hierarchicalFacets,t)},d.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"],d.prototype.getFacetValues=function(e,t){var i=function(e,t){function i(e){return e.name===t}if(e._state.isConjunctiveFacet(t)){var n=o(e.facets,i);return n?Object.keys(n.data).map(function(i){return{name:i,count:n.data[i],isRefined:e._state.isFacetRefined(t,i),isExcluded:e._state.isExcludeRefined(t,i)}}):[]}if(e._state.isDisjunctiveFacet(t)){var s=o(e.disjunctiveFacets,i);return s?Object.keys(s.data).map(function(i){return{name:i,count:s.data[i],isRefined:e._state.isDisjunctiveFacetRefined(t,i)}}):[]}if(e._state.isHierarchicalFacet(t))return o(e.hierarchicalFacets,i)}(this,e);if(i){var n=s({},t,{sortBy:d.DEFAULT_SORT,facetOrdering:!(t&&t.sortBy)}),a=this;return m(function(e,t){if(n.facetOrdering){var i=function(e,t){return e.renderingContent&&e.renderingContent.facetOrdering&&e.renderingContent.facetOrdering.values&&e.renderingContent.facetOrdering.values[t]}(a,t);if(Boolean(i))return function(e,t){var i=[],n=[],s=(t.order||[]).reduce(function(e,t,i){return e[t]=i,e},{});e.forEach(function(e){var t=e.path||e.name;void 0!==s[t]?i[s[t]]=e:n.push(e)}),i=i.filter(function(e){return e});var a,o=t.sortRemainingBy;return"hidden"===o?i:i.concat(r(n,(a="alpha"===o?[["path","name"],["asc","asc"]]:[["count"],["desc"]])[0],a[1]))}(e,i)}if(Array.isArray(n.sortBy)){var s=l(n.sortBy,d.DEFAULT_SORT);return r(e,s[0],s[1])}if("function"==typeof n.sortBy)return function(e,t){return t.sort(e)}(n.sortBy,e);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")},i,Array.isArray(i)?[e]:a._state.getHierarchicalFacetByName(i.name).attributes)}},d.prototype.getFacetStats=function(e){return this._state.isConjunctiveFacet(e)?g(this.facets,e):this._state.isDisjunctiveFacet(e)?g(this.disjunctiveFacets,e):void 0},d.prototype.getRefinements=function(){var e=this._state,t=this,i=[];return Object.keys(e.facetsRefinements).forEach(function(n){e.facetsRefinements[n].forEach(function(e){i.push(p(0,"facet",n,e,t.facets))})}),Object.keys(e.facetsExcludes).forEach(function(n){e.facetsExcludes[n].forEach(function(e){i.push(p(0,"exclude",n,e,t.facets))})}),Object.keys(e.disjunctiveFacetsRefinements).forEach(function(n){e.disjunctiveFacetsRefinements[n].forEach(function(e){i.push(p(0,"disjunctive",n,e,t.disjunctiveFacets))})}),Object.keys(e.hierarchicalFacetsRefinements).forEach(function(n){e.hierarchicalFacetsRefinements[n].forEach(function(s){i.push(function(e,t,i,n){var s=e.getHierarchicalFacetByName(t),r=e._getHierarchicalFacetSeparator(s),a=i.split(r),c=o(n,function(e){return e.name===t}),l=a.reduce(function(e,t){var i=e&&o(e.data,function(e){return e.name===t});return void 0!==i?i:e},c);return{type:"hierarchical",attributeName:t,name:l&&l.path||"",count:l&&l.count||0,exhaustive:l&&l.exhaustive||!1}}(e,n,s,t.hierarchicalFacets))})}),Object.keys(e.numericRefinements).forEach(function(t){var n=e.numericRefinements[t];Object.keys(n).forEach(function(e){n[e].forEach(function(n){i.push({type:"numeric",attributeName:t,name:n,numericValue:n,operator:e})})})}),e.tagRefinements.forEach(function(e){i.push({type:"tag",attributeName:"_tags",name:e})}),i},t.exports=d},{"../functions/compact":9,"../functions/defaultsPure":10,"../functions/find":11,"../functions/findIndex":12,"../functions/formatSort":13,"../functions/merge":16,"../functions/orderBy":19,"./generate-hierarchical-tree":6}],8:[function(e,t,i){"use strict";var n=e("./SearchParameters"),s=e("./SearchResults"),r=e("./DerivedHelper"),a=e("./requestBuilder"),o=e("events"),c=e("./functions/inherits"),l=e("./functions/objectHasKeys"),h=e("./functions/omit"),u=e("./functions/merge"),f=e("./version");function d(e,t,i){"function"==typeof e.addAlgoliaAgent&&e.addAlgoliaAgent("JS Helper ("+f+")"),this.setClient(e);var s=i||{};s.index=t,this.state=n.make(s),this.lastResults=null,this._queryId=0,this._lastQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0}function m(e){if(e<0)throw new Error("Page requested below 0.");return this._change({state:this.state.setPage(e),isPageReset:!1}),this}function g(){return this.state.page}c(d,o.EventEmitter),d.prototype.search=function(){return this._search({onlyWithDerivedHelpers:!1}),this},d.prototype.searchOnlyWithDerivedHelpers=function(){return this._search({onlyWithDerivedHelpers:!0}),this},d.prototype.getQuery=function(){return a._getHitsSearchParams(this.state)},d.prototype.searchOnce=function(e,t){var i=e?this.state.setQueryParameters(e):this.state,n=a._getQueries(i.index,i),r=this;if(this._currentNbQueries++,this.emit("searchOnce",{state:i}),!t)return this.client.search(n).then(function(e){return r._currentNbQueries--,0===r._currentNbQueries&&r.emit("searchQueueEmpty"),{content:new s(i,e.results),state:i,_originalResponse:e}},function(e){throw r._currentNbQueries--,0===r._currentNbQueries&&r.emit("searchQueueEmpty"),e});this.client.search(n).then(function(e){r._currentNbQueries--,0===r._currentNbQueries&&r.emit("searchQueueEmpty"),t(null,new s(i,e.results),i)}).catch(function(e){r._currentNbQueries--,0===r._currentNbQueries&&r.emit("searchQueueEmpty"),t(e,null,i)})},d.prototype.findAnswers=function(e){var t=this.state,i=this.derivedHelpers[0];if(!i)return Promise.resolve([]);var n=i.getModifiedState(t),s=u({attributesForPrediction:e.attributesForPrediction,nbHits:e.nbHits},{params:h(a._getHitsSearchParams(n),["attributesToSnippet","hitsPerPage","restrictSearchableAttributes","snippetEllipsisText"])}),r="search for answers was called, but this client does not have a function client.initIndex(index).findAnswers";if("function"!=typeof this.client.initIndex)throw new Error(r);var o=this.client.initIndex(n.index);if("function"!=typeof o.findAnswers)throw new Error(r);return o.findAnswers(n.query,e.queryLanguages,s)},d.prototype.searchForFacetValues=function(e,t,i,n){var s="function"==typeof this.client.searchForFacetValues;if(!s&&"function"!=typeof this.client.initIndex)throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues");var r=this.state.setQueryParameters(n||{}),o=r.isDisjunctiveFacet(e),c=a.getSearchForFacetQuery(e,t,i,r);this._currentNbQueries++;var l=this;return this.emit("searchForFacetValues",{state:r,facet:e,query:t}),(s?this.client.searchForFacetValues([{indexName:r.index,params:c}]):this.client.initIndex(r.index).searchForFacetValues(c)).then(function(t){return l._currentNbQueries--,0===l._currentNbQueries&&l.emit("searchQueueEmpty"),(t=Array.isArray(t)?t[0]:t).facetHits.forEach(function(t){t.isRefined=o?r.isDisjunctiveFacetRefined(e,t.value):r.isFacetRefined(e,t.value)}),t},function(e){throw l._currentNbQueries--,0===l._currentNbQueries&&l.emit("searchQueueEmpty"),e})},d.prototype.setQuery=function(e){return this._change({state:this.state.resetPage().setQuery(e),isPageReset:!0}),this},d.prototype.clearRefinements=function(e){return this._change({state:this.state.resetPage().clearRefinements(e),isPageReset:!0}),this},d.prototype.clearTags=function(){return this._change({state:this.state.resetPage().clearTags(),isPageReset:!0}),this},d.prototype.addDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this},d.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)},d.prototype.addHierarchicalFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addHierarchicalFacetRefinement(e,t),isPageReset:!0}),this},d.prototype.addNumericRefinement=function(e,t,i){return this._change({state:this.state.resetPage().addNumericRefinement(e,t,i),isPageReset:!0}),this},d.prototype.addFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addFacetRefinement(e,t),isPageReset:!0}),this},d.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)},d.prototype.addFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().addExcludeRefinement(e,t),isPageReset:!0}),this},d.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)},d.prototype.addTag=function(e){return this._change({state:this.state.resetPage().addTagRefinement(e),isPageReset:!0}),this},d.prototype.removeNumericRefinement=function(e,t,i){return this._change({state:this.state.resetPage().removeNumericRefinement(e,t,i),isPageReset:!0}),this},d.prototype.removeDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this},d.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)},d.prototype.removeHierarchicalFacetRefinement=function(e){return this._change({state:this.state.resetPage().removeHierarchicalFacetRefinement(e),isPageReset:!0}),this},d.prototype.removeFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeFacetRefinement(e,t),isPageReset:!0}),this},d.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)},d.prototype.removeFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().removeExcludeRefinement(e,t),isPageReset:!0}),this},d.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)},d.prototype.removeTag=function(e){return this._change({state:this.state.resetPage().removeTagRefinement(e),isPageReset:!0}),this},d.prototype.toggleFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().toggleExcludeFacetRefinement(e,t),isPageReset:!0}),this},d.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)},d.prototype.toggleRefinement=function(e,t){return this.toggleFacetRefinement(e,t)},d.prototype.toggleFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().toggleFacetRefinement(e,t),isPageReset:!0}),this},d.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)},d.prototype.toggleTag=function(e){return this._change({state:this.state.resetPage().toggleTagRefinement(e),isPageReset:!0}),this},d.prototype.nextPage=function(){return this.setPage((this.state.page||0)+1)},d.prototype.previousPage=function(){return this.setPage((this.state.page||0)-1)},d.prototype.setCurrentPage=m,d.prototype.setPage=m,d.prototype.setIndex=function(e){return this._change({state:this.state.resetPage().setIndex(e),isPageReset:!0}),this},d.prototype.setQueryParameter=function(e,t){return this._change({state:this.state.resetPage().setQueryParameter(e,t),isPageReset:!0}),this},d.prototype.setState=function(e){return this._change({state:n.make(e),isPageReset:!1}),this},d.prototype.overrideStateWithoutTriggeringChangeEvent=function(e){return this.state=new n(e),this},d.prototype.hasRefinements=function(e){return!!l(this.state.getNumericRefinements(e))||(this.state.isConjunctiveFacet(e)?this.state.isFacetRefined(e):this.state.isDisjunctiveFacet(e)?this.state.isDisjunctiveFacetRefined(e):!!this.state.isHierarchicalFacet(e)&&this.state.isHierarchicalFacetRefined(e))},d.prototype.isExcluded=function(e,t){return this.state.isExcludeRefined(e,t)},d.prototype.isDisjunctiveRefined=function(e,t){return this.state.isDisjunctiveFacetRefined(e,t)},d.prototype.hasTag=function(e){return this.state.isTagRefined(e)},d.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)},d.prototype.getIndex=function(){return this.state.index},d.prototype.getCurrentPage=g,d.prototype.getPage=g,d.prototype.getTags=function(){return this.state.tagRefinements},d.prototype.getRefinements=function(e){var t=[];this.state.isConjunctiveFacet(e)?(this.state.getConjunctiveRefinements(e).forEach(function(e){t.push({value:e,type:"conjunctive"})}),this.state.getExcludeRefinements(e).forEach(function(e){t.push({value:e,type:"exclude"})})):this.state.isDisjunctiveFacet(e)&&this.state.getDisjunctiveRefinements(e).forEach(function(e){t.push({value:e,type:"disjunctive"})});var i=this.state.getNumericRefinements(e);return Object.keys(i).forEach(function(e){t.push({value:i[e],operator:e,type:"numeric"})}),t},d.prototype.getNumericRefinement=function(e,t){return this.state.getNumericRefinement(e,t)},d.prototype.getHierarchicalFacetBreadcrumb=function(e){return this.state.getHierarchicalFacetBreadcrumb(e)},d.prototype._search=function(e){var t=this.state,i=[],n=[];e.onlyWithDerivedHelpers||(n=a._getQueries(t.index,t),i.push({state:t,queriesCount:n.length,helper:this}),this.emit("search",{state:t,results:this.lastResults}));var s=this.derivedHelpers.map(function(e){var n=e.getModifiedState(t),s=a._getQueries(n.index,n);return i.push({state:n,queriesCount:s.length,helper:e}),e.emit("search",{state:n,results:e.lastResults}),s}),r=Array.prototype.concat.apply(n,s),o=this._queryId++;this._currentNbQueries++;try{this.client.search(r).then(this._dispatchAlgoliaResponse.bind(this,i,o)).catch(this._dispatchAlgoliaError.bind(this,o))}catch(c){this.emit("error",{error:c})}},d.prototype._dispatchAlgoliaResponse=function(e,t,i){if(!(t<this._lastQueryIdReceived)){this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,0===this._currentNbQueries&&this.emit("searchQueueEmpty");var n=i.results.slice();e.forEach(function(e){var t=e.state,i=e.helper,r=n.splice(0,e.queriesCount),a=i.lastResults=new s(t,r);i.emit("result",{results:a,state:t})})}},d.prototype._dispatchAlgoliaError=function(e,t){e<this._lastQueryIdReceived||(this._currentNbQueries-=e-this._lastQueryIdReceived,this._lastQueryIdReceived=e,this.emit("error",{error:t}),0===this._currentNbQueries&&this.emit("searchQueueEmpty"))},d.prototype.containsRefinement=function(e,t,i,n){return e||0!==t.length||0!==i.length||0!==n.length},d.prototype._hasDisjunctiveRefinements=function(e){return this.state.disjunctiveRefinements[e]&&this.state.disjunctiveRefinements[e].length>0},d.prototype._change=function(e){var t=e.state,i=e.isPageReset;t!==this.state&&(this.state=t,this.emit("change",{state:this.state,results:this.lastResults,isPageReset:i}))},d.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this},d.prototype.setClient=function(e){return this.client===e||("function"==typeof e.addAlgoliaAgent&&e.addAlgoliaAgent("JS Helper ("+f+")"),this.client=e),this},d.prototype.getClient=function(){return this.client},d.prototype.derive=function(e){var t=new r(this,e);return this.derivedHelpers.push(t),t},d.prototype.detachDerivedHelper=function(e){var t=this.derivedHelpers.indexOf(e);if(-1===t)throw new Error("Derived helper already detached");this.derivedHelpers.splice(t,1)},d.prototype.hasPendingRequests=function(){return this._currentNbQueries>0},t.exports=d},{"./DerivedHelper":3,"./SearchParameters":5,"./SearchResults":7,"./functions/inherits":14,"./functions/merge":16,"./functions/objectHasKeys":17,"./functions/omit":18,"./requestBuilder":21,"./version":23,events:2}],9:[function(e,t,i){"use strict";t.exports=function(e){return Array.isArray(e)?e.filter(Boolean):[]}},{}],10:[function(e,t,i){"use strict";t.exports=function(){var e=Array.prototype.slice.call(arguments);return e.reduceRight(function(e,t){return Object.keys(Object(t)).forEach(function(i){void 0!==t[i]&&(void 0!==e[i]&&delete e[i],e[i]=t[i])}),e},{})}},{}],11:[function(e,t,i){"use strict";t.exports=function(e,t){if(Array.isArray(e))for(var i=0;i<e.length;i++)if(t(e[i]))return e[i]}},{}],12:[function(e,t,i){"use strict";t.exports=function(e,t){if(!Array.isArray(e))return-1;for(var i=0;i<e.length;i++)if(t(e[i]))return i;return-1}},{}],13:[function(e,t,i){"use strict";var n=e("./find");t.exports=function(e,t){var i=(t||[]).map(function(e){return e.split(":")});return e.reduce(function(e,t){var s=t.split(":"),r=n(i,function(e){return e[0]===s[0]});return s.length>1||!r?(e[0].push(s[0]),e[1].push(s[1]),e):(e[0].push(r[0]),e[1].push(r[1]),e)},[[],[]])}},{"./find":11}],14:[function(e,t,i){"use strict";t.exports=function(e,t){e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}},{}],15:[function(e,t,i){"use strict";t.exports=function(e,t){return e.filter(function(i,n){return t.indexOf(i)>-1&&e.indexOf(i)===n})}},{}],16:[function(e,t,i){"use strict";function n(e){return"function"==typeof e||Array.isArray(e)||"[object Object]"===Object.prototype.toString.call(e)}function s(e,t){if(e===t)return e;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&"__proto__"!==i){var r=t[i],a=e[i];void 0!==a&&void 0===r||(e[i]=n(a)&&n(r)?s(a,r):"object"==typeof(o=r)&&null!==o?s(Array.isArray(o)?[]:{},o):o)}var o;return e}t.exports=function(e){n(e)||(e={});for(var t=1,i=arguments.length;t<i;t++){var r=arguments[t];n(r)&&s(e,r)}return e}},{}],17:[function(e,t,i){"use strict";t.exports=function(e){return e&&Object.keys(e).length>0}},{}],18:[function(e,t,i){"use strict";t.exports=function(e,t){if(null===e)return{};var i,n,s={},r=Object.keys(e);for(n=0;n<r.length;n++)t.indexOf(i=r[n])>=0||(s[i]=e[i]);return s}},{}],19:[function(e,t,i){"use strict";function n(e,t){if(e!==t){var i=void 0!==e,n=null===e,s=void 0!==t,r=null===t;if(!r&&e>t||n&&s||!i)return 1;if(!n&&e<t||r&&i||!s)return-1}return 0}t.exports=function(e,t,i){if(!Array.isArray(e))return[];Array.isArray(i)||(i=[]);var s=e.map(function(e,i){return{criteria:t.map(function(t){return e[t]}),index:i,value:e}});return s.sort(function(e,t){for(var s=-1;++s<e.criteria.length;){var r=n(e.criteria[s],t.criteria[s]);if(r)return s>=i.length?r:"desc"===i[s]?-r:r}return e.index-t.index}),s.map(function(e){return e.value})}},{}],20:[function(e,t,i){"use strict";t.exports=function e(t){if("number"==typeof t)return t;if("string"==typeof t)return parseFloat(t);if(Array.isArray(t))return t.map(e);throw new Error("The value should be a number, a parsable string or an array of those.")}},{}],21:[function(e,t,i){"use strict";var n=e("./functions/merge"),s={_getQueries:function(e,t){var i=[];return i.push({indexName:e,params:s._getHitsSearchParams(t)}),t.getRefinedDisjunctiveFacets().forEach(function(n){i.push({indexName:e,params:s._getDisjunctiveFacetSearchParams(t,n)})}),t.getRefinedHierarchicalFacets().forEach(function(n){var r=t.getHierarchicalFacetByName(n),a=t.getHierarchicalRefinement(n),o=t._getHierarchicalFacetSeparator(r);a.length>0&&a[0].split(o).length>1&&i.push({indexName:e,params:s._getDisjunctiveFacetSearchParams(t,n,!0)})}),i},_getHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets).concat(s._getHitsHierarchicalFacetsAttributes(e)),i=s._getFacetFilters(e),r=s._getNumericFilters(e),a=s._getTagFilters(e),o={facets:t.indexOf("*")>-1?["*"]:t,tagFilters:a};return i.length>0&&(o.facetFilters=i),r.length>0&&(o.numericFilters=r),n({},e.getQueryParams(),o)},_getDisjunctiveFacetSearchParams:function(e,t,i){var r=s._getFacetFilters(e,t,i),a=s._getNumericFilters(e,t),o={hitsPerPage:1,page:0,attributesToRetrieve:[],attributesToHighlight:[],attributesToSnippet:[],tagFilters:s._getTagFilters(e),analytics:!1,clickAnalytics:!1},c=e.getHierarchicalFacetByName(t);return o.facets=c?s._getDisjunctiveHierarchicalFacetAttribute(e,c,i):t,a.length>0&&(o.numericFilters=a),r.length>0&&(o.facetFilters=r),n({},e.getQueryParams(),o)},_getNumericFilters:function(e,t){if(e.numericFilters)return e.numericFilters;var i=[];return Object.keys(e.numericRefinements).forEach(function(n){var s=e.numericRefinements[n]||{};Object.keys(s).forEach(function(e){t!==n&&(s[e]||[]).forEach(function(t){if(Array.isArray(t)){var s=t.map(function(t){return n+e+t});i.push(s)}else i.push(n+e+t)})})}),i},_getTagFilters:function(e){return e.tagFilters?e.tagFilters:e.tagRefinements.join(",")},_getFacetFilters:function(e,t,i){var n=[],s=e.facetsRefinements||{};Object.keys(s).forEach(function(e){(s[e]||[]).forEach(function(t){n.push(e+":"+t)})});var r=e.facetsExcludes||{};Object.keys(r).forEach(function(e){(r[e]||[]).forEach(function(t){n.push(e+":-"+t)})});var a=e.disjunctiveFacetsRefinements||{};Object.keys(a).forEach(function(e){var i=a[e]||[];if(e!==t&&i&&0!==i.length){var s=[];i.forEach(function(t){s.push(e+":"+t)}),n.push(s)}});var o=e.hierarchicalFacetsRefinements||{};return Object.keys(o).forEach(function(s){var r=(o[s]||[])[0];if(void 0!==r){var a,c,l=e.getHierarchicalFacetByName(s),h=e._getHierarchicalFacetSeparator(l),u=e._getHierarchicalRootPath(l);if(t===s){if(-1===r.indexOf(h)||!u&&!0===i||u&&u.split(h).length===r.split(h).length)return;u?(c=u.split(h).length-1,r=u):(c=r.split(h).length-2,r=r.slice(0,r.lastIndexOf(h))),a=l.attributes[c]}else c=r.split(h).length-1,a=l.attributes[c];a&&n.push([a+":"+r])}}),n},_getHitsHierarchicalFacetsAttributes:function(e){return e.hierarchicalFacets.reduce(function(t,i){var n=e.getHierarchicalRefinement(i.name)[0];if(!n)return t.push(i.attributes[0]),t;var s=e._getHierarchicalFacetSeparator(i),r=n.split(s).length,a=i.attributes.slice(0,r+1);return t.concat(a)},[])},_getDisjunctiveHierarchicalFacetAttribute:function(e,t,i){var n=e._getHierarchicalFacetSeparator(t);if(!0===i){var s=e._getHierarchicalRootPath(t),r=0;return s&&(r=s.split(n).length),[t.attributes[r]]}var a=(e.getHierarchicalRefinement(t.name)[0]||"").split(n).length-1;return t.attributes.slice(0,a+1)},getSearchForFacetQuery:function(e,t,i,r){var a=r.isDisjunctiveFacet(e)?r.clearRefinements(e):r,o={facetQuery:t,facetName:e};return"number"==typeof i&&(o.maxFacetHits=i),n({},s._getHitsSearchParams(a),o)}};t.exports=s},{"./functions/merge":16}],22:[function(e,t,i){"use strict";t.exports=function(e){return null!==e&&/^[a-zA-Z0-9_-]{1,64}$/.test(e)}},{}],23:[function(e,t,i){"use strict";t.exports="3.6.2"},{}]},{},[1])(1)});